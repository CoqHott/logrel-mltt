<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Untyped</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Comment">-- Raw terms, weakening (renaming) and substitution.</a>

<a id="55" class="Symbol">{-#</a> <a id="59" class="Keyword">OPTIONS</a> <a id="67" class="Option">--without-K</a> <a id="79" class="Option">--safe</a> <a id="86" class="Symbol">#-}</a>

<a id="91" class="Keyword">module</a> <a id="98" href="Definition.Untyped.html" class="Module">Definition.Untyped</a> <a id="117" class="Keyword">where</a>

<a id="124" class="Keyword">open</a> <a id="129" class="Keyword">import</a> <a id="136" href="Tools.Nat.html" class="Module">Tools.Nat</a>
<a id="146" class="Keyword">open</a> <a id="151" class="Keyword">import</a> <a id="158" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="172" class="Keyword">import</a> <a id="179" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="207" class="Symbol">as</a> <a id="210" class="Module">PE</a>


<a id="215" class="Keyword">infixl</a> <a id="222" class="Number">30</a> <a id="225" href="Definition.Untyped.html#Con._%E2%88%99_" class="InductiveConstructor Operator">_∙_</a>
<a id="229" class="Keyword">infix</a> <a id="235" class="Number">30</a> <a id="238" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π_▹_</a>
<a id="243" class="Keyword">infixr</a> <a id="250" class="Number">22</a> <a id="253" href="Definition.Untyped.html#_%E2%96%B9%E2%96%B9_" class="Function Operator">_▹▹_</a>
<a id="258" class="Keyword">infixl</a> <a id="265" class="Number">30</a> <a id="268" href="Definition.Untyped.html#_%E2%82%9B%E2%80%A2%E2%82%9B_" class="Function Operator">_ₛ•ₛ_</a> <a id="274" href="Definition.Untyped.html#_%E2%80%A2%E2%82%9B_" class="Function Operator">_•ₛ_</a> <a id="279" href="Definition.Untyped.html#_%E2%82%9B%E2%80%A2_" class="Function Operator">_ₛ•_</a>
<a id="284" class="Keyword">infix</a> <a id="290" class="Number">25</a> <a id="293" href="Definition.Untyped.html#_%5B_%5D" class="Function Operator">_[_]</a>
<a id="298" class="Keyword">infix</a> <a id="304" class="Number">25</a> <a id="307" href="Definition.Untyped.html#_%5B_%5D%E2%86%91" class="Function Operator">_[_]↑</a>


<a id="315" class="Comment">-- Typing contexts (snoc-lists, isomorphic to lists).</a>

<a id="370" class="Keyword">data</a> <a id="Con" href="Definition.Untyped.html#Con" class="Datatype">Con</a> <a id="379" class="Symbol">(</a><a id="380" href="Definition.Untyped.html#380" class="Bound">A</a> <a id="382" class="Symbol">:</a> <a id="384" class="PrimitiveType">Set</a><a id="387" class="Symbol">)</a> <a id="389" class="Symbol">:</a> <a id="391" class="PrimitiveType">Set</a> <a id="395" class="Keyword">where</a>
  <a id="Con.ε" href="Definition.Untyped.html#Con.%CE%B5" class="InductiveConstructor">ε</a>   <a id="407" class="Symbol">:</a> <a id="409" href="Definition.Untyped.html#Con" class="Datatype">Con</a> <a id="413" href="Definition.Untyped.html#380" class="Bound">A</a>               <a id="429" class="Comment">-- Empty context.</a>
  <a id="Con._∙_" href="Definition.Untyped.html#Con._%E2%88%99_" class="InductiveConstructor Operator">_∙_</a> <a id="453" class="Symbol">:</a> <a id="455" href="Definition.Untyped.html#Con" class="Datatype">Con</a> <a id="459" href="Definition.Untyped.html#380" class="Bound">A</a> <a id="461" class="Symbol">→</a> <a id="463" href="Definition.Untyped.html#380" class="Bound">A</a> <a id="465" class="Symbol">→</a> <a id="467" href="Definition.Untyped.html#Con" class="Datatype">Con</a> <a id="471" href="Definition.Untyped.html#380" class="Bound">A</a>  <a id="474" class="Comment">-- Context extension.</a>


<a id="498" class="Comment">-- The Grammar of our language.</a>

<a id="531" class="Comment">-- We represent the expressions of our language as de Bruijn terms.</a>
<a id="599" class="Comment">-- Variables are natural numbers interpreted as de Bruijn indices.</a>
<a id="666" class="Comment">-- Π, lam, and natrec are binders.</a>

<a id="702" class="Keyword">data</a> <a id="Term" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="712" class="Symbol">:</a> <a id="714" class="PrimitiveType">Set</a> <a id="718" class="Keyword">where</a>

  <a id="727" class="Comment">-- Type constructors.</a>
  <a id="Term.U" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a>      <a id="758" class="Symbol">:</a> <a id="760" href="Definition.Untyped.html#Term" class="Datatype">Term</a>                     <a id="785" class="Comment">-- Universe.</a>
  <a id="Term.Π_▹_" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π_▹_</a>   <a id="807" class="Symbol">:</a> <a id="809" class="Symbol">(</a><a id="810" href="Definition.Untyped.html#810" class="Bound">A</a> <a id="812" href="Definition.Untyped.html#812" class="Bound">B</a> <a id="814" class="Symbol">:</a> <a id="816" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="820" class="Symbol">)</a>     <a id="826" class="Symbol">→</a> <a id="828" href="Definition.Untyped.html#Term" class="Datatype">Term</a>  <a id="834" class="Comment">-- Dependent function type (B is a binder).</a>
  <a id="Term.ℕ" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a>      <a id="887" class="Symbol">:</a> <a id="889" href="Definition.Untyped.html#Term" class="Datatype">Term</a>                     <a id="914" class="Comment">-- Type of natural numbers.</a>

  <a id="945" class="Comment">-- Lambda-calculus.</a>
  <a id="Term.var" href="Definition.Untyped.html#Term.var" class="InductiveConstructor">var</a>    <a id="974" class="Symbol">:</a> <a id="976" class="Symbol">(</a><a id="977" href="Definition.Untyped.html#977" class="Bound">x</a> <a id="979" class="Symbol">:</a> <a id="981" href="Agda.Builtin.Nat.html#Nat" class="Datatype">Nat</a><a id="984" class="Symbol">)</a>        <a id="993" class="Symbol">→</a> <a id="995" href="Definition.Untyped.html#Term" class="Datatype">Term</a>  <a id="1001" class="Comment">-- Variable (de Bruijn index).</a>
  <a id="Term.lam" href="Definition.Untyped.html#Term.lam" class="InductiveConstructor">lam</a>    <a id="1041" class="Symbol">:</a> <a id="1043" class="Symbol">(</a><a id="1044" href="Definition.Untyped.html#1044" class="Bound">t</a> <a id="1046" class="Symbol">:</a> <a id="1048" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="1052" class="Symbol">)</a>       <a id="1060" class="Symbol">→</a> <a id="1062" href="Definition.Untyped.html#Term" class="Datatype">Term</a>  <a id="1068" class="Comment">-- Function abstraction (binder).</a>
  <a id="Term._∘_" href="Definition.Untyped.html#Term._%E2%88%98_" class="InductiveConstructor Operator">_∘_</a>    <a id="1111" class="Symbol">:</a> <a id="1113" class="Symbol">(</a><a id="1114" href="Definition.Untyped.html#1114" class="Bound">t</a> <a id="1116" href="Definition.Untyped.html#1116" class="Bound">u</a> <a id="1118" class="Symbol">:</a> <a id="1120" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="1124" class="Symbol">)</a>     <a id="1130" class="Symbol">→</a> <a id="1132" href="Definition.Untyped.html#Term" class="Datatype">Term</a>  <a id="1138" class="Comment">-- Application.</a>

  <a id="1157" class="Comment">-- Introduction and elimination of natural numbers.</a>
  <a id="Term.zero" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">zero</a>   <a id="1218" class="Symbol">:</a> <a id="1220" href="Definition.Untyped.html#Term" class="Datatype">Term</a>                     <a id="1245" class="Comment">-- Natural number zero.</a>
  <a id="Term.suc" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a>    <a id="1278" class="Symbol">:</a> <a id="1280" class="Symbol">(</a><a id="1281" href="Definition.Untyped.html#1281" class="Bound">t</a> <a id="1283" class="Symbol">:</a> <a id="1285" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="1289" class="Symbol">)</a>       <a id="1297" class="Symbol">→</a> <a id="1299" href="Definition.Untyped.html#Term" class="Datatype">Term</a>  <a id="1305" class="Comment">-- Successor.</a>
  <a id="Term.natrec" href="Definition.Untyped.html#Term.natrec" class="InductiveConstructor">natrec</a> <a id="1328" class="Symbol">:</a> <a id="1330" class="Symbol">(</a><a id="1331" href="Definition.Untyped.html#1331" class="Bound">A</a> <a id="1333" href="Definition.Untyped.html#1333" class="Bound">t</a> <a id="1335" href="Definition.Untyped.html#1335" class="Bound">u</a> <a id="1337" href="Definition.Untyped.html#1337" class="Bound">v</a> <a id="1339" class="Symbol">:</a> <a id="1341" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="1345" class="Symbol">)</a> <a id="1347" class="Symbol">→</a> <a id="1349" href="Definition.Untyped.html#Term" class="Datatype">Term</a>  <a id="1355" class="Comment">-- Recursor (A is a binder).</a>


<a id="1386" class="Comment">-- Injectivity of term constructors w.r.t. propositional equality.</a>

<a id="1454" class="Comment">-- If  Π F G = Π H E  then  F = H  and  G = E.</a>

<a id="Π-PE-injectivity" href="Definition.Untyped.html#%CE%A0-PE-injectivity" class="Function">Π-PE-injectivity</a> <a id="1519" class="Symbol">:</a> <a id="1521" class="Symbol">∀</a> <a id="1523" class="Symbol">{</a><a id="1524" href="Definition.Untyped.html#1524" class="Bound">F</a> <a id="1526" href="Definition.Untyped.html#1526" class="Bound">G</a> <a id="1528" href="Definition.Untyped.html#1528" class="Bound">H</a> <a id="1530" href="Definition.Untyped.html#1530" class="Bound">E</a><a id="1531" class="Symbol">}</a> <a id="1533" class="Symbol">→</a> <a id="1535" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Term.Π</a> <a id="1542" href="Definition.Untyped.html#1524" class="Bound">F</a> <a id="1544" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="1546" href="Definition.Untyped.html#1526" class="Bound">G</a> <a id="1548" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">PE.≡</a> <a id="1553" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="1555" href="Definition.Untyped.html#1528" class="Bound">H</a> <a id="1557" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="1559" href="Definition.Untyped.html#1530" class="Bound">E</a> <a id="1561" class="Symbol">→</a> <a id="1563" href="Definition.Untyped.html#1524" class="Bound">F</a> <a id="1565" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">PE.≡</a> <a id="1570" href="Definition.Untyped.html#1528" class="Bound">H</a> <a id="1572" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1574" href="Definition.Untyped.html#1526" class="Bound">G</a> <a id="1576" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">PE.≡</a> <a id="1581" href="Definition.Untyped.html#1530" class="Bound">E</a>
<a id="1583" href="Definition.Untyped.html#%CE%A0-PE-injectivity" class="Function">Π-PE-injectivity</a> <a id="1600" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a> <a id="1608" class="Symbol">=</a> <a id="1610" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a> <a id="1618" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1620" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a>

<a id="1629" class="Comment">-- If  suc n = suc m  then  n = m.</a>

<a id="suc-PE-injectivity" href="Definition.Untyped.html#suc-PE-injectivity" class="Function">suc-PE-injectivity</a> <a id="1684" class="Symbol">:</a> <a id="1686" class="Symbol">∀</a> <a id="1688" class="Symbol">{</a><a id="1689" href="Definition.Untyped.html#1689" class="Bound">n</a> <a id="1691" href="Definition.Untyped.html#1691" class="Bound">m</a><a id="1692" class="Symbol">}</a> <a id="1694" class="Symbol">→</a> <a id="1696" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">Term.suc</a> <a id="1705" href="Definition.Untyped.html#1689" class="Bound">n</a> <a id="1707" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">PE.≡</a> <a id="1712" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a> <a id="1716" href="Definition.Untyped.html#1691" class="Bound">m</a> <a id="1718" class="Symbol">→</a> <a id="1720" href="Definition.Untyped.html#1689" class="Bound">n</a> <a id="1722" href="Agda.Builtin.Equality.html#_%E2%89%A1_" class="Datatype Operator">PE.≡</a> <a id="1727" href="Definition.Untyped.html#1691" class="Bound">m</a>
<a id="1729" href="Definition.Untyped.html#suc-PE-injectivity" class="Function">suc-PE-injectivity</a> <a id="1748" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a> <a id="1756" class="Symbol">=</a> <a id="1758" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a>


<a id="1768" class="Comment">-- Neutral terms.</a>

<a id="1787" class="Comment">-- A term is neutral if it has a variable in head position.</a>
<a id="1847" class="Comment">-- The variable blocks reduction of such terms.</a>

<a id="1896" class="Keyword">data</a> <a id="Neutral" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="1909" class="Symbol">:</a> <a id="1911" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="1916" class="Symbol">→</a> <a id="1918" class="PrimitiveType">Set</a> <a id="1922" class="Keyword">where</a>
  <a id="Neutral.var" href="Definition.Untyped.html#Neutral.var" class="InductiveConstructor">var</a>    <a id="1937" class="Symbol">:</a> <a id="1939" class="Symbol">∀</a> <a id="1941" href="Definition.Untyped.html#1941" class="Bound">n</a>                     <a id="1963" class="Symbol">→</a> <a id="1965" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="1973" class="Symbol">(</a><a id="1974" href="Definition.Untyped.html#Term.var" class="InductiveConstructor">var</a> <a id="1978" href="Definition.Untyped.html#1941" class="Bound">n</a><a id="1979" class="Symbol">)</a>
  <a id="Neutral._∘_" href="Definition.Untyped.html#Neutral._%E2%88%98_" class="InductiveConstructor Operator">_∘_</a>    <a id="1990" class="Symbol">:</a> <a id="1992" class="Symbol">∀</a> <a id="1994" class="Symbol">{</a><a id="1995" href="Definition.Untyped.html#1995" class="Bound">k</a> <a id="1997" href="Definition.Untyped.html#1997" class="Bound">u</a><a id="1998" class="Symbol">}</a>     <a id="2004" class="Symbol">→</a> <a id="2006" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="2014" href="Definition.Untyped.html#1995" class="Bound">k</a> <a id="2016" class="Symbol">→</a> <a id="2018" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="2026" class="Symbol">(</a><a id="2027" href="Definition.Untyped.html#1995" class="Bound">k</a> <a id="2029" href="Definition.Untyped.html#Term._%E2%88%98_" class="InductiveConstructor Operator">∘</a> <a id="2031" href="Definition.Untyped.html#1997" class="Bound">u</a><a id="2032" class="Symbol">)</a>
  <a id="Neutral.natrec" href="Definition.Untyped.html#Neutral.natrec" class="InductiveConstructor">natrec</a> <a id="2043" class="Symbol">:</a> <a id="2045" class="Symbol">∀</a> <a id="2047" class="Symbol">{</a><a id="2048" href="Definition.Untyped.html#2048" class="Bound">C</a> <a id="2050" href="Definition.Untyped.html#2050" class="Bound">c</a> <a id="2052" href="Definition.Untyped.html#2052" class="Bound">g</a> <a id="2054" href="Definition.Untyped.html#2054" class="Bound">k</a><a id="2055" class="Symbol">}</a> <a id="2057" class="Symbol">→</a> <a id="2059" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="2067" href="Definition.Untyped.html#2054" class="Bound">k</a> <a id="2069" class="Symbol">→</a> <a id="2071" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="2079" class="Symbol">(</a><a id="2080" href="Definition.Untyped.html#Term.natrec" class="InductiveConstructor">natrec</a> <a id="2087" href="Definition.Untyped.html#2048" class="Bound">C</a> <a id="2089" href="Definition.Untyped.html#2050" class="Bound">c</a> <a id="2091" href="Definition.Untyped.html#2052" class="Bound">g</a> <a id="2093" href="Definition.Untyped.html#2054" class="Bound">k</a><a id="2094" class="Symbol">)</a>


<a id="2098" class="Comment">-- Weak head normal forms (whnfs).</a>

<a id="2134" class="Comment">-- These are the (lazy) values of our language.</a>

<a id="2183" class="Keyword">data</a> <a id="Whnf" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2193" class="Symbol">:</a> <a id="2195" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="2200" class="Symbol">→</a> <a id="2202" class="PrimitiveType">Set</a> <a id="2206" class="Keyword">where</a>

  <a id="2215" class="Comment">-- Type constructors are whnfs.</a>
  <a id="Whnf.U" href="Definition.Untyped.html#Whnf.U" class="InductiveConstructor">U</a>    <a id="2254" class="Symbol">:</a> <a id="2256" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2261" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a>
  <a id="Whnf.Π" href="Definition.Untyped.html#Whnf.%CE%A0" class="InductiveConstructor">Π</a>    <a id="2270" class="Symbol">:</a> <a id="2272" class="Symbol">∀</a> <a id="2274" class="Symbol">{</a><a id="2275" href="Definition.Untyped.html#2275" class="Bound">A</a> <a id="2277" href="Definition.Untyped.html#2277" class="Bound">B</a><a id="2278" class="Symbol">}</a> <a id="2280" class="Symbol">→</a> <a id="2282" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2287" class="Symbol">(</a><a id="2288" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="2290" href="Definition.Untyped.html#2275" class="Bound">A</a> <a id="2292" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="2294" href="Definition.Untyped.html#2277" class="Bound">B</a><a id="2295" class="Symbol">)</a>
  <a id="Whnf.ℕ" href="Definition.Untyped.html#Whnf.%E2%84%95" class="InductiveConstructor">ℕ</a>    <a id="2304" class="Symbol">:</a> <a id="2306" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2311" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a>

  <a id="2316" class="Comment">-- Introductions are whnfs.</a>
  <a id="Whnf.lam" href="Definition.Untyped.html#Whnf.lam" class="InductiveConstructor">lam</a>  <a id="2351" class="Symbol">:</a> <a id="2353" class="Symbol">∀</a> <a id="2355" class="Symbol">{</a><a id="2356" href="Definition.Untyped.html#2356" class="Bound">t</a><a id="2357" class="Symbol">}</a> <a id="2359" class="Symbol">→</a> <a id="2361" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2366" class="Symbol">(</a><a id="2367" href="Definition.Untyped.html#Term.lam" class="InductiveConstructor">lam</a> <a id="2371" href="Definition.Untyped.html#2356" class="Bound">t</a><a id="2372" class="Symbol">)</a>
  <a id="Whnf.zero" href="Definition.Untyped.html#Whnf.zero" class="InductiveConstructor">zero</a> <a id="2381" class="Symbol">:</a> <a id="2383" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2388" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">zero</a>
  <a id="Whnf.suc" href="Definition.Untyped.html#Whnf.suc" class="InductiveConstructor">suc</a>  <a id="2400" class="Symbol">:</a> <a id="2402" class="Symbol">∀</a> <a id="2404" class="Symbol">{</a><a id="2405" href="Definition.Untyped.html#2405" class="Bound">t</a><a id="2406" class="Symbol">}</a> <a id="2408" class="Symbol">→</a> <a id="2410" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2415" class="Symbol">(</a><a id="2416" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a> <a id="2420" href="Definition.Untyped.html#2405" class="Bound">t</a><a id="2421" class="Symbol">)</a>

  <a id="2426" class="Comment">-- Neutrals are whnfs.</a>
  <a id="Whnf.ne" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a>   <a id="2456" class="Symbol">:</a> <a id="2458" class="Symbol">∀</a> <a id="2460" class="Symbol">{</a><a id="2461" href="Definition.Untyped.html#2461" class="Bound">n</a><a id="2462" class="Symbol">}</a> <a id="2464" class="Symbol">→</a> <a id="2466" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="2474" href="Definition.Untyped.html#2461" class="Bound">n</a> <a id="2476" class="Symbol">→</a> <a id="2478" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2483" href="Definition.Untyped.html#2461" class="Bound">n</a>


<a id="2487" class="Comment">-- Whnf inequalities.</a>

<a id="2510" class="Comment">-- Different whnfs are trivially distinguished by propositional equality.</a>
<a id="2584" class="Comment">-- (The following statements are sometimes called &quot;no-confusion theorems&quot;.)</a>

<a id="U≢ℕ" href="Definition.Untyped.html#U%E2%89%A2%E2%84%95" class="Function">U≢ℕ</a> <a id="2665" class="Symbol">:</a> <a id="2667" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">Term.U</a> <a id="2674" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="2679" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a>
<a id="2681" href="Definition.Untyped.html#U%E2%89%A2%E2%84%95" class="Function">U≢ℕ</a> <a id="2685" class="Symbol">()</a>

<a id="U≢Π" href="Definition.Untyped.html#U%E2%89%A2%CE%A0" class="Function">U≢Π</a> <a id="2693" class="Symbol">:</a> <a id="2695" class="Symbol">∀</a> <a id="2697" class="Symbol">{</a><a id="2698" href="Definition.Untyped.html#2698" class="Bound">F</a> <a id="2700" href="Definition.Untyped.html#2700" class="Bound">G</a><a id="2701" class="Symbol">}</a> <a id="2703" class="Symbol">→</a> <a id="2705" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">Term.U</a> <a id="2712" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="2717" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="2719" href="Definition.Untyped.html#2698" class="Bound">F</a> <a id="2721" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="2723" href="Definition.Untyped.html#2700" class="Bound">G</a>
<a id="2725" href="Definition.Untyped.html#U%E2%89%A2%CE%A0" class="Function">U≢Π</a> <a id="2729" class="Symbol">()</a>

<a id="U≢ne" href="Definition.Untyped.html#U%E2%89%A2ne" class="Function">U≢ne</a> <a id="2738" class="Symbol">:</a> <a id="2740" class="Symbol">∀</a> <a id="2742" class="Symbol">{</a><a id="2743" href="Definition.Untyped.html#2743" class="Bound">K</a><a id="2744" class="Symbol">}</a> <a id="2746" class="Symbol">→</a> <a id="2748" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="2756" href="Definition.Untyped.html#2743" class="Bound">K</a> <a id="2758" class="Symbol">→</a> <a id="2760" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a> <a id="2762" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="2767" href="Definition.Untyped.html#2743" class="Bound">K</a>
<a id="2769" href="Definition.Untyped.html#U%E2%89%A2ne" class="Function">U≢ne</a> <a id="2774" class="Symbol">()</a> <a id="2777" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a>

<a id="ℕ≢Π" href="Definition.Untyped.html#%E2%84%95%E2%89%A2%CE%A0" class="Function">ℕ≢Π</a> <a id="2790" class="Symbol">:</a> <a id="2792" class="Symbol">∀</a> <a id="2794" class="Symbol">{</a><a id="2795" href="Definition.Untyped.html#2795" class="Bound">F</a> <a id="2797" href="Definition.Untyped.html#2797" class="Bound">G</a><a id="2798" class="Symbol">}</a> <a id="2800" class="Symbol">→</a> <a id="2802" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">Term.ℕ</a> <a id="2809" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="2814" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="2816" href="Definition.Untyped.html#2795" class="Bound">F</a> <a id="2818" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="2820" href="Definition.Untyped.html#2797" class="Bound">G</a>
<a id="2822" href="Definition.Untyped.html#%E2%84%95%E2%89%A2%CE%A0" class="Function">ℕ≢Π</a> <a id="2826" class="Symbol">()</a>

<a id="ℕ≢ne" href="Definition.Untyped.html#%E2%84%95%E2%89%A2ne" class="Function">ℕ≢ne</a> <a id="2835" class="Symbol">:</a> <a id="2837" class="Symbol">∀</a> <a id="2839" class="Symbol">{</a><a id="2840" href="Definition.Untyped.html#2840" class="Bound">K</a><a id="2841" class="Symbol">}</a> <a id="2843" class="Symbol">→</a> <a id="2845" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="2853" href="Definition.Untyped.html#2840" class="Bound">K</a> <a id="2855" class="Symbol">→</a> <a id="2857" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="2859" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="2864" href="Definition.Untyped.html#2840" class="Bound">K</a>
<a id="2866" href="Definition.Untyped.html#%E2%84%95%E2%89%A2ne" class="Function">ℕ≢ne</a> <a id="2871" class="Symbol">()</a> <a id="2874" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a>

<a id="Π≢ne" href="Definition.Untyped.html#%CE%A0%E2%89%A2ne" class="Function">Π≢ne</a> <a id="2888" class="Symbol">:</a> <a id="2890" class="Symbol">∀</a> <a id="2892" class="Symbol">{</a><a id="2893" href="Definition.Untyped.html#2893" class="Bound">F</a> <a id="2895" href="Definition.Untyped.html#2895" class="Bound">G</a> <a id="2897" href="Definition.Untyped.html#2897" class="Bound">K</a><a id="2898" class="Symbol">}</a> <a id="2900" class="Symbol">→</a> <a id="2902" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="2910" href="Definition.Untyped.html#2897" class="Bound">K</a> <a id="2912" class="Symbol">→</a> <a id="2914" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="2916" href="Definition.Untyped.html#2893" class="Bound">F</a> <a id="2918" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="2920" href="Definition.Untyped.html#2895" class="Bound">G</a> <a id="2922" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="2927" href="Definition.Untyped.html#2897" class="Bound">K</a>
<a id="2929" href="Definition.Untyped.html#%CE%A0%E2%89%A2ne" class="Function">Π≢ne</a> <a id="2934" class="Symbol">()</a> <a id="2937" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a>

<a id="zero≢suc" href="Definition.Untyped.html#zero%E2%89%A2suc" class="Function">zero≢suc</a> <a id="2955" class="Symbol">:</a> <a id="2957" class="Symbol">∀</a> <a id="2959" class="Symbol">{</a><a id="2960" href="Definition.Untyped.html#2960" class="Bound">n</a><a id="2961" class="Symbol">}</a> <a id="2963" class="Symbol">→</a> <a id="2965" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">Term.zero</a> <a id="2975" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="2980" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a> <a id="2984" href="Definition.Untyped.html#2960" class="Bound">n</a>
<a id="2986" href="Definition.Untyped.html#zero%E2%89%A2suc" class="Function">zero≢suc</a> <a id="2995" class="Symbol">()</a>

<a id="zero≢ne" href="Definition.Untyped.html#zero%E2%89%A2ne" class="Function">zero≢ne</a> <a id="3007" class="Symbol">:</a> <a id="3009" class="Symbol">∀</a> <a id="3011" class="Symbol">{</a><a id="3012" href="Definition.Untyped.html#3012" class="Bound">k</a><a id="3013" class="Symbol">}</a> <a id="3015" class="Symbol">→</a> <a id="3017" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="3025" href="Definition.Untyped.html#3012" class="Bound">k</a> <a id="3027" class="Symbol">→</a> <a id="3029" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">Term.zero</a> <a id="3039" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="3044" href="Definition.Untyped.html#3012" class="Bound">k</a>
<a id="3046" href="Definition.Untyped.html#zero%E2%89%A2ne" class="Function">zero≢ne</a> <a id="3054" class="Symbol">()</a> <a id="3057" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a>

<a id="suc≢ne" href="Definition.Untyped.html#suc%E2%89%A2ne" class="Function">suc≢ne</a> <a id="3073" class="Symbol">:</a> <a id="3075" class="Symbol">∀</a> <a id="3077" class="Symbol">{</a><a id="3078" href="Definition.Untyped.html#3078" class="Bound">n</a> <a id="3080" href="Definition.Untyped.html#3080" class="Bound">k</a><a id="3081" class="Symbol">}</a> <a id="3083" class="Symbol">→</a> <a id="3085" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="3093" href="Definition.Untyped.html#3080" class="Bound">k</a> <a id="3095" class="Symbol">→</a> <a id="3097" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">Term.suc</a> <a id="3106" href="Definition.Untyped.html#3078" class="Bound">n</a> <a id="3108" href="Tools.PropositionalEquality.html#_%E2%89%A2_" class="Function Operator">PE.≢</a> <a id="3113" href="Definition.Untyped.html#3080" class="Bound">k</a>
<a id="3115" href="Definition.Untyped.html#suc%E2%89%A2ne" class="Function">suc≢ne</a> <a id="3122" class="Symbol">()</a> <a id="3125" href="Agda.Builtin.Equality.html#_%E2%89%A1_.refl" class="InductiveConstructor">PE.refl</a>


<a id="3135" class="Comment">-- Several views on whnfs (note: not recursive).</a>

<a id="3185" class="Comment">-- A whnf of type ℕ is either zero, suc t, or neutral.</a>

<a id="3241" class="Keyword">data</a> <a id="Natural" href="Definition.Untyped.html#Natural" class="Datatype">Natural</a> <a id="3254" class="Symbol">:</a> <a id="3256" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="3261" class="Symbol">→</a> <a id="3263" class="PrimitiveType">Set</a> <a id="3267" class="Keyword">where</a>
  <a id="Natural.zero" href="Definition.Untyped.html#Natural.zero" class="InductiveConstructor">zero</a> <a id="3280" class="Symbol">:</a>                     <a id="3302" href="Definition.Untyped.html#Natural" class="Datatype">Natural</a> <a id="3310" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">zero</a>
  <a id="Natural.suc" href="Definition.Untyped.html#Natural.suc" class="InductiveConstructor">suc</a>  <a id="3322" class="Symbol">:</a> <a id="3324" class="Symbol">∀</a> <a id="3326" class="Symbol">{</a><a id="3327" href="Definition.Untyped.html#3327" class="Bound">t</a><a id="3328" class="Symbol">}</a>             <a id="3342" class="Symbol">→</a> <a id="3344" href="Definition.Untyped.html#Natural" class="Datatype">Natural</a> <a id="3352" class="Symbol">(</a><a id="3353" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a> <a id="3357" href="Definition.Untyped.html#3327" class="Bound">t</a><a id="3358" class="Symbol">)</a>
  <a id="Natural.ne" href="Definition.Untyped.html#Natural.ne" class="InductiveConstructor">ne</a>   <a id="3367" class="Symbol">:</a> <a id="3369" class="Symbol">∀</a> <a id="3371" class="Symbol">{</a><a id="3372" href="Definition.Untyped.html#3372" class="Bound">n</a><a id="3373" class="Symbol">}</a> <a id="3375" class="Symbol">→</a> <a id="3377" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="3385" href="Definition.Untyped.html#3372" class="Bound">n</a> <a id="3387" class="Symbol">→</a> <a id="3389" href="Definition.Untyped.html#Natural" class="Datatype">Natural</a> <a id="3397" href="Definition.Untyped.html#3372" class="Bound">n</a>

<a id="3400" class="Comment">-- A (small) type in whnf is either Π A B, ℕ, or neutral.</a>
<a id="3458" class="Comment">-- Large types could also be U.</a>

<a id="3491" class="Keyword">data</a> <a id="Type" href="Definition.Untyped.html#Type" class="Datatype">Type</a> <a id="3501" class="Symbol">:</a> <a id="3503" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="3508" class="Symbol">→</a> <a id="3510" class="PrimitiveType">Set</a> <a id="3514" class="Keyword">where</a>
  <a id="Type.Π" href="Definition.Untyped.html#Type.%CE%A0" class="InductiveConstructor">Π</a> <a id="3524" class="Symbol">:</a> <a id="3526" class="Symbol">∀</a> <a id="3528" class="Symbol">{</a><a id="3529" href="Definition.Untyped.html#3529" class="Bound">A</a> <a id="3531" href="Definition.Untyped.html#3531" class="Bound">B</a><a id="3532" class="Symbol">}</a> <a id="3534" class="Symbol">→</a> <a id="3536" href="Definition.Untyped.html#Type" class="Datatype">Type</a> <a id="3541" class="Symbol">(</a><a id="3542" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="3544" href="Definition.Untyped.html#3529" class="Bound">A</a> <a id="3546" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="3548" href="Definition.Untyped.html#3531" class="Bound">B</a><a id="3549" class="Symbol">)</a>
  <a id="Type.ℕ" href="Definition.Untyped.html#Type.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="3555" class="Symbol">:</a> <a id="3557" href="Definition.Untyped.html#Type" class="Datatype">Type</a> <a id="3562" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a>
  <a id="Type.ne" href="Definition.Untyped.html#Type.ne" class="InductiveConstructor">ne</a> <a id="3569" class="Symbol">:</a> <a id="3571" class="Symbol">∀{</a><a id="3573" href="Definition.Untyped.html#3573" class="Bound">n</a><a id="3574" class="Symbol">}</a> <a id="3576" class="Symbol">→</a> <a id="3578" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="3586" href="Definition.Untyped.html#3573" class="Bound">n</a> <a id="3588" class="Symbol">→</a> <a id="3590" href="Definition.Untyped.html#Type" class="Datatype">Type</a> <a id="3595" href="Definition.Untyped.html#3573" class="Bound">n</a>

<a id="3598" class="Comment">-- A whnf of type Π A B is either lam t or neutral.</a>

<a id="3651" class="Keyword">data</a> <a id="Function" href="Definition.Untyped.html#Function" class="Datatype">Function</a> <a id="3665" class="Symbol">:</a> <a id="3667" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="3672" class="Symbol">→</a> <a id="3674" class="PrimitiveType">Set</a> <a id="3678" class="Keyword">where</a>
  <a id="Function.lam" href="Definition.Untyped.html#Function.lam" class="InductiveConstructor">lam</a> <a id="3690" class="Symbol">:</a> <a id="3692" class="Symbol">∀{</a><a id="3694" href="Definition.Untyped.html#3694" class="Bound">t</a><a id="3695" class="Symbol">}</a> <a id="3697" class="Symbol">→</a> <a id="3699" href="Definition.Untyped.html#Function" class="Datatype">Function</a> <a id="3708" class="Symbol">(</a><a id="3709" href="Definition.Untyped.html#Term.lam" class="InductiveConstructor">lam</a> <a id="3713" href="Definition.Untyped.html#3694" class="Bound">t</a><a id="3714" class="Symbol">)</a>
  <a id="Function.ne" href="Definition.Untyped.html#Function.ne" class="InductiveConstructor">ne</a> <a id="3721" class="Symbol">:</a> <a id="3723" class="Symbol">∀{</a><a id="3725" href="Definition.Untyped.html#3725" class="Bound">n</a><a id="3726" class="Symbol">}</a> <a id="3728" class="Symbol">→</a> <a id="3730" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="3738" href="Definition.Untyped.html#3725" class="Bound">n</a> <a id="3740" class="Symbol">→</a> <a id="3742" href="Definition.Untyped.html#Function" class="Datatype">Function</a> <a id="3751" href="Definition.Untyped.html#3725" class="Bound">n</a>

<a id="3754" class="Comment">-- These views classify only whnfs.</a>
<a id="3790" class="Comment">-- Natural, Type, and Function are a subsets of Whnf.</a>

<a id="naturalWhnf" href="Definition.Untyped.html#naturalWhnf" class="Function">naturalWhnf</a> <a id="3857" class="Symbol">:</a> <a id="3859" class="Symbol">∀</a> <a id="3861" class="Symbol">{</a><a id="3862" href="Definition.Untyped.html#3862" class="Bound">n</a><a id="3863" class="Symbol">}</a> <a id="3865" class="Symbol">→</a> <a id="3867" href="Definition.Untyped.html#Natural" class="Datatype">Natural</a> <a id="3875" href="Definition.Untyped.html#3862" class="Bound">n</a> <a id="3877" class="Symbol">→</a> <a id="3879" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="3884" href="Definition.Untyped.html#3862" class="Bound">n</a>
<a id="3886" href="Definition.Untyped.html#naturalWhnf" class="Function">naturalWhnf</a> <a id="3898" href="Definition.Untyped.html#Natural.suc" class="InductiveConstructor">suc</a> <a id="3902" class="Symbol">=</a> <a id="3904" href="Definition.Untyped.html#Whnf.suc" class="InductiveConstructor">suc</a>
<a id="3908" href="Definition.Untyped.html#naturalWhnf" class="Function">naturalWhnf</a> <a id="3920" href="Definition.Untyped.html#Natural.zero" class="InductiveConstructor">zero</a> <a id="3925" class="Symbol">=</a> <a id="3927" href="Definition.Untyped.html#Whnf.zero" class="InductiveConstructor">zero</a>
<a id="3932" href="Definition.Untyped.html#naturalWhnf" class="Function">naturalWhnf</a> <a id="3944" class="Symbol">(</a><a id="3945" href="Definition.Untyped.html#Natural.ne" class="InductiveConstructor">ne</a> <a id="3948" href="Definition.Untyped.html#3948" class="Bound">x</a><a id="3949" class="Symbol">)</a> <a id="3951" class="Symbol">=</a> <a id="3953" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="3956" href="Definition.Untyped.html#3948" class="Bound">x</a>

<a id="typeWhnf" href="Definition.Untyped.html#typeWhnf" class="Function">typeWhnf</a> <a id="3968" class="Symbol">:</a> <a id="3970" class="Symbol">∀</a> <a id="3972" class="Symbol">{</a><a id="3973" href="Definition.Untyped.html#3973" class="Bound">A</a><a id="3974" class="Symbol">}</a> <a id="3976" class="Symbol">→</a> <a id="3978" href="Definition.Untyped.html#Type" class="Datatype">Type</a> <a id="3983" href="Definition.Untyped.html#3973" class="Bound">A</a> <a id="3985" class="Symbol">→</a> <a id="3987" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="3992" href="Definition.Untyped.html#3973" class="Bound">A</a>
<a id="3994" href="Definition.Untyped.html#typeWhnf" class="Function">typeWhnf</a> <a id="4003" href="Definition.Untyped.html#Type.%CE%A0" class="InductiveConstructor">Π</a> <a id="4005" class="Symbol">=</a> <a id="4007" href="Definition.Untyped.html#Whnf.%CE%A0" class="InductiveConstructor">Π</a>
<a id="4009" href="Definition.Untyped.html#typeWhnf" class="Function">typeWhnf</a> <a id="4018" href="Definition.Untyped.html#Type.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="4020" class="Symbol">=</a> <a id="4022" href="Definition.Untyped.html#Whnf.%E2%84%95" class="InductiveConstructor">ℕ</a>
<a id="4024" href="Definition.Untyped.html#typeWhnf" class="Function">typeWhnf</a> <a id="4033" class="Symbol">(</a><a id="4034" href="Definition.Untyped.html#Type.ne" class="InductiveConstructor">ne</a> <a id="4037" href="Definition.Untyped.html#4037" class="Bound">x</a><a id="4038" class="Symbol">)</a> <a id="4040" class="Symbol">=</a> <a id="4042" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="4045" href="Definition.Untyped.html#4037" class="Bound">x</a>

<a id="functionWhnf" href="Definition.Untyped.html#functionWhnf" class="Function">functionWhnf</a> <a id="4061" class="Symbol">:</a> <a id="4063" class="Symbol">∀</a> <a id="4065" class="Symbol">{</a><a id="4066" href="Definition.Untyped.html#4066" class="Bound">f</a><a id="4067" class="Symbol">}</a> <a id="4069" class="Symbol">→</a> <a id="4071" href="Definition.Untyped.html#Function" class="Datatype">Function</a> <a id="4080" href="Definition.Untyped.html#4066" class="Bound">f</a> <a id="4082" class="Symbol">→</a> <a id="4084" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="4089" href="Definition.Untyped.html#4066" class="Bound">f</a>
<a id="4091" href="Definition.Untyped.html#functionWhnf" class="Function">functionWhnf</a> <a id="4104" href="Definition.Untyped.html#Function.lam" class="InductiveConstructor">lam</a> <a id="4108" class="Symbol">=</a> <a id="4110" href="Definition.Untyped.html#Whnf.lam" class="InductiveConstructor">lam</a>
<a id="4114" href="Definition.Untyped.html#functionWhnf" class="Function">functionWhnf</a> <a id="4127" class="Symbol">(</a><a id="4128" href="Definition.Untyped.html#Function.ne" class="InductiveConstructor">ne</a> <a id="4131" href="Definition.Untyped.html#4131" class="Bound">x</a><a id="4132" class="Symbol">)</a> <a id="4134" class="Symbol">=</a> <a id="4136" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="4139" href="Definition.Untyped.html#4131" class="Bound">x</a>

<a id="4142" class="Comment">------------------------------------------------------------------------</a>
<a id="4215" class="Comment">-- Weakening</a>

<a id="4229" class="Comment">-- In the following we define untyped weakenings η : Wk.</a>
<a id="4286" class="Comment">-- The typed form could be written η : Γ ≤ Δ with the intention</a>
<a id="4350" class="Comment">-- that η transport a term t living in context Δ to a context Γ</a>
<a id="4414" class="Comment">-- that can bind additional variables (which cannot appear in t).</a>
<a id="4480" class="Comment">-- Thus, if Δ ⊢ t : A and η : Γ ≤ Δ then Γ ⊢ wk η t : wk η A.</a>
<a id="4542" class="Comment">--</a>
<a id="4545" class="Comment">-- Even though Γ is &quot;larger&quot; than Δ we write Γ ≤ Δ to be conformant</a>
<a id="4613" class="Comment">-- with subtyping A ≤ B.  With subtyping, relation Γ ≤ Δ could be defined as</a>
<a id="4690" class="Comment">-- ``for all x ∈ dom(Δ) have Γ(x) ≤ Δ(x)&#39;&#39; (in the sense of subtyping)</a>
<a id="4761" class="Comment">-- and this would be the natural extension of weakenings.</a>

<a id="4820" class="Keyword">data</a> <a id="Wk" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a> <a id="4828" class="Symbol">:</a> <a id="4830" class="PrimitiveType">Set</a> <a id="4834" class="Keyword">where</a>
  <a id="Wk.id" href="Definition.Untyped.html#Wk.id" class="InductiveConstructor">id</a>    <a id="4848" class="Symbol">:</a> <a id="4850" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a>        <a id="4860" class="Comment">-- η : Γ ≤ Γ.</a>
  <a id="Wk.step" href="Definition.Untyped.html#Wk.step" class="InductiveConstructor">step</a>  <a id="4882" class="Symbol">:</a> <a id="4884" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a>  <a id="4888" class="Symbol">→</a> <a id="4890" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a>  <a id="4894" class="Comment">-- If η : Γ ≤ Δ then step η : Γ∙A ≤ Δ.</a>
  <a id="Wk.lift" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a>  <a id="4941" class="Symbol">:</a> <a id="4943" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a>  <a id="4947" class="Symbol">→</a> <a id="4949" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a>  <a id="4953" class="Comment">-- If η : Γ ≤ Δ then lift η : Γ∙A ≤ Δ∙A.</a>

<a id="4995" class="Comment">-- Composition of weakening.</a>
<a id="5024" class="Comment">-- If η : Γ ≤ Δ and η′ : Δ ≤ Φ then η • η′ : Γ ≤ Φ.</a>

<a id="5077" class="Keyword">infixl</a> <a id="5084" class="Number">30</a> <a id="5087" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">_•_</a>

<a id="_•_" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">_•_</a>                <a id="5111" class="Symbol">:</a>  <a id="5114" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a> <a id="5117" class="Symbol">→</a> <a id="5119" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a> <a id="5122" class="Symbol">→</a> <a id="5124" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a>
<a id="5127" href="Definition.Untyped.html#Wk.id" class="InductiveConstructor">id</a>      <a id="5135" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">•</a> <a id="5137" href="Definition.Untyped.html#5137" class="Bound">η′</a>       <a id="5146" class="Symbol">=</a>  <a id="5149" href="Definition.Untyped.html#5137" class="Bound">η′</a>
<a id="5152" href="Definition.Untyped.html#Wk.step" class="InductiveConstructor">step</a> <a id="5157" href="Definition.Untyped.html#5157" class="Bound">η</a>  <a id="5160" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">•</a> <a id="5162" href="Definition.Untyped.html#5162" class="Bound">η′</a>       <a id="5171" class="Symbol">=</a>  <a id="5174" href="Definition.Untyped.html#Wk.step" class="InductiveConstructor">step</a>  <a id="5180" class="Symbol">(</a><a id="5181" href="Definition.Untyped.html#5157" class="Bound">η</a> <a id="5183" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">•</a> <a id="5185" href="Definition.Untyped.html#5162" class="Bound">η′</a><a id="5187" class="Symbol">)</a>
<a id="5189" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5194" href="Definition.Untyped.html#5194" class="Bound">η</a>  <a id="5197" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">•</a> <a id="5199" href="Definition.Untyped.html#Wk.id" class="InductiveConstructor">id</a>       <a id="5208" class="Symbol">=</a>  <a id="5211" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a>  <a id="5217" href="Definition.Untyped.html#5194" class="Bound">η</a>
<a id="5219" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5224" href="Definition.Untyped.html#5224" class="Bound">η</a>  <a id="5227" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">•</a> <a id="5229" href="Definition.Untyped.html#Wk.step" class="InductiveConstructor">step</a> <a id="5234" href="Definition.Untyped.html#5234" class="Bound">η′</a>  <a id="5238" class="Symbol">=</a>  <a id="5241" href="Definition.Untyped.html#Wk.step" class="InductiveConstructor">step</a>  <a id="5247" class="Symbol">(</a><a id="5248" href="Definition.Untyped.html#5224" class="Bound">η</a> <a id="5250" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">•</a> <a id="5252" href="Definition.Untyped.html#5234" class="Bound">η′</a><a id="5254" class="Symbol">)</a>
<a id="5256" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5261" href="Definition.Untyped.html#5261" class="Bound">η</a>  <a id="5264" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">•</a> <a id="5266" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5271" href="Definition.Untyped.html#5271" class="Bound">η′</a>  <a id="5275" class="Symbol">=</a>  <a id="5278" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a>  <a id="5284" class="Symbol">(</a><a id="5285" href="Definition.Untyped.html#5261" class="Bound">η</a> <a id="5287" href="Definition.Untyped.html#_%E2%80%A2_" class="Function Operator">•</a> <a id="5289" href="Definition.Untyped.html#5271" class="Bound">η′</a><a id="5291" class="Symbol">)</a>

<a id="5294" class="Comment">-- Weakening of variables.</a>
<a id="5321" class="Comment">-- If η : Γ ≤ Δ and x ∈ dom(Δ) then wkVar ρ x ∈ dom(Γ).</a>

<a id="wkVar" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="5384" class="Symbol">:</a> <a id="5386" class="Symbol">(</a><a id="5387" href="Definition.Untyped.html#5387" class="Bound">ρ</a> <a id="5389" class="Symbol">:</a> <a id="5391" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a><a id="5393" class="Symbol">)</a> <a id="5395" class="Symbol">(</a><a id="5396" href="Definition.Untyped.html#5396" class="Bound">n</a> <a id="5398" class="Symbol">:</a> <a id="5400" href="Agda.Builtin.Nat.html#Nat" class="Datatype">Nat</a><a id="5403" class="Symbol">)</a> <a id="5405" class="Symbol">→</a> <a id="5407" href="Agda.Builtin.Nat.html#Nat" class="Datatype">Nat</a>
<a id="5411" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="5417" href="Definition.Untyped.html#Wk.id" class="InductiveConstructor">id</a>       <a id="5426" href="Definition.Untyped.html#5426" class="Bound">n</a>       <a id="5434" class="Symbol">=</a> <a id="5436" href="Definition.Untyped.html#5426" class="Bound">n</a>
<a id="5438" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="5444" class="Symbol">(</a><a id="5445" href="Definition.Untyped.html#Wk.step" class="InductiveConstructor">step</a> <a id="5450" href="Definition.Untyped.html#5450" class="Bound">ρ</a><a id="5451" class="Symbol">)</a> <a id="5453" href="Definition.Untyped.html#5453" class="Bound">n</a>       <a id="5461" class="Symbol">=</a> <a id="5463" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5467" class="Symbol">(</a><a id="5468" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="5474" href="Definition.Untyped.html#5450" class="Bound">ρ</a> <a id="5476" href="Definition.Untyped.html#5453" class="Bound">n</a><a id="5477" class="Symbol">)</a>
<a id="5479" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="5485" class="Symbol">(</a><a id="5486" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5491" href="Definition.Untyped.html#5491" class="Bound">ρ</a><a id="5492" class="Symbol">)</a> <a id="5494" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>    <a id="5502" class="Symbol">=</a> <a id="5504" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>
<a id="5509" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="5515" class="Symbol">(</a><a id="5516" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5521" href="Definition.Untyped.html#5521" class="Bound">ρ</a><a id="5522" class="Symbol">)</a> <a id="5524" class="Symbol">(</a><a id="5525" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5529" href="Definition.Untyped.html#5529" class="Bound">n</a><a id="5530" class="Symbol">)</a> <a id="5532" class="Symbol">=</a> <a id="5534" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="5538" class="Symbol">(</a><a id="5539" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="5545" href="Definition.Untyped.html#5521" class="Bound">ρ</a> <a id="5547" href="Definition.Untyped.html#5529" class="Bound">n</a><a id="5548" class="Symbol">)</a>

<a id="5551" class="Comment">-- Weakening of terms.</a>
<a id="5574" class="Comment">-- If η : Γ ≤ Δ and Δ ⊢ t : A then Γ ⊢ wk η t : wk η A.</a>

<a id="wk" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5634" class="Symbol">:</a> <a id="5636" class="Symbol">(</a><a id="5637" href="Definition.Untyped.html#5637" class="Bound">ρ</a> <a id="5639" class="Symbol">:</a> <a id="5641" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a><a id="5643" class="Symbol">)</a> <a id="5645" class="Symbol">(</a><a id="5646" href="Definition.Untyped.html#5646" class="Bound">t</a> <a id="5648" class="Symbol">:</a> <a id="5650" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="5654" class="Symbol">)</a> <a id="5656" class="Symbol">→</a> <a id="5658" href="Definition.Untyped.html#Term" class="Datatype">Term</a>
<a id="5663" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5666" href="Definition.Untyped.html#5666" class="Bound">ρ</a> <a id="5668" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a>                <a id="5685" class="Symbol">=</a> <a id="5687" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a>
<a id="5689" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5692" href="Definition.Untyped.html#5692" class="Bound">ρ</a> <a id="5694" class="Symbol">(</a><a id="5695" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="5697" href="Definition.Untyped.html#5697" class="Bound">A</a> <a id="5699" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="5701" href="Definition.Untyped.html#5701" class="Bound">B</a><a id="5702" class="Symbol">)</a>        <a id="5711" class="Symbol">=</a> <a id="5713" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="5715" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5718" href="Definition.Untyped.html#5692" class="Bound">ρ</a> <a id="5720" href="Definition.Untyped.html#5697" class="Bound">A</a> <a id="5722" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="5724" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5727" class="Symbol">(</a><a id="5728" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5733" href="Definition.Untyped.html#5692" class="Bound">ρ</a><a id="5734" class="Symbol">)</a> <a id="5736" href="Definition.Untyped.html#5701" class="Bound">B</a>
<a id="5738" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5741" href="Definition.Untyped.html#5741" class="Bound">ρ</a> <a id="5743" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a>                <a id="5760" class="Symbol">=</a> <a id="5762" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a>
<a id="5764" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5767" href="Definition.Untyped.html#5767" class="Bound">ρ</a> <a id="5769" class="Symbol">(</a><a id="5770" href="Definition.Untyped.html#Term.var" class="InductiveConstructor">var</a> <a id="5774" href="Definition.Untyped.html#5774" class="Bound">x</a><a id="5775" class="Symbol">)</a>          <a id="5786" class="Symbol">=</a> <a id="5788" href="Definition.Untyped.html#Term.var" class="InductiveConstructor">var</a> <a id="5792" class="Symbol">(</a><a id="5793" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="5799" href="Definition.Untyped.html#5767" class="Bound">ρ</a> <a id="5801" href="Definition.Untyped.html#5774" class="Bound">x</a><a id="5802" class="Symbol">)</a>
<a id="5804" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5807" href="Definition.Untyped.html#5807" class="Bound">ρ</a> <a id="5809" class="Symbol">(</a><a id="5810" href="Definition.Untyped.html#Term.lam" class="InductiveConstructor">lam</a> <a id="5814" href="Definition.Untyped.html#5814" class="Bound">t</a><a id="5815" class="Symbol">)</a>          <a id="5826" class="Symbol">=</a> <a id="5828" href="Definition.Untyped.html#Term.lam" class="InductiveConstructor">lam</a> <a id="5832" class="Symbol">(</a><a id="5833" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5836" class="Symbol">(</a><a id="5837" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5842" href="Definition.Untyped.html#5807" class="Bound">ρ</a><a id="5843" class="Symbol">)</a> <a id="5845" href="Definition.Untyped.html#5814" class="Bound">t</a><a id="5846" class="Symbol">)</a>
<a id="5848" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5851" href="Definition.Untyped.html#5851" class="Bound">ρ</a> <a id="5853" class="Symbol">(</a><a id="5854" href="Definition.Untyped.html#5854" class="Bound">t</a> <a id="5856" href="Definition.Untyped.html#Term._%E2%88%98_" class="InductiveConstructor Operator">∘</a> <a id="5858" href="Definition.Untyped.html#5858" class="Bound">u</a><a id="5859" class="Symbol">)</a>          <a id="5870" class="Symbol">=</a> <a id="5872" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5875" href="Definition.Untyped.html#5851" class="Bound">ρ</a> <a id="5877" href="Definition.Untyped.html#5854" class="Bound">t</a> <a id="5879" href="Definition.Untyped.html#Term._%E2%88%98_" class="InductiveConstructor Operator">∘</a> <a id="5881" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5884" href="Definition.Untyped.html#5851" class="Bound">ρ</a> <a id="5886" href="Definition.Untyped.html#5858" class="Bound">u</a>
<a id="5888" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5891" href="Definition.Untyped.html#5891" class="Bound">ρ</a> <a id="5893" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">zero</a>             <a id="5910" class="Symbol">=</a> <a id="5912" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">zero</a>
<a id="5917" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5920" href="Definition.Untyped.html#5920" class="Bound">ρ</a> <a id="5922" class="Symbol">(</a><a id="5923" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a> <a id="5927" href="Definition.Untyped.html#5927" class="Bound">t</a><a id="5928" class="Symbol">)</a>          <a id="5939" class="Symbol">=</a> <a id="5941" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a> <a id="5945" class="Symbol">(</a><a id="5946" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5949" href="Definition.Untyped.html#5920" class="Bound">ρ</a> <a id="5951" href="Definition.Untyped.html#5927" class="Bound">t</a><a id="5952" class="Symbol">)</a>
<a id="5954" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5957" href="Definition.Untyped.html#5957" class="Bound">ρ</a> <a id="5959" class="Symbol">(</a><a id="5960" href="Definition.Untyped.html#Term.natrec" class="InductiveConstructor">natrec</a> <a id="5967" href="Definition.Untyped.html#5967" class="Bound">A</a> <a id="5969" href="Definition.Untyped.html#5969" class="Bound">t</a> <a id="5971" href="Definition.Untyped.html#5971" class="Bound">u</a> <a id="5973" href="Definition.Untyped.html#5973" class="Bound">v</a><a id="5974" class="Symbol">)</a> <a id="5976" class="Symbol">=</a> <a id="5978" href="Definition.Untyped.html#Term.natrec" class="InductiveConstructor">natrec</a> <a id="5985" class="Symbol">(</a><a id="5986" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="5989" class="Symbol">(</a><a id="5990" href="Definition.Untyped.html#Wk.lift" class="InductiveConstructor">lift</a> <a id="5995" href="Definition.Untyped.html#5957" class="Bound">ρ</a><a id="5996" class="Symbol">)</a> <a id="5998" href="Definition.Untyped.html#5967" class="Bound">A</a><a id="5999" class="Symbol">)</a> <a id="6001" class="Symbol">(</a><a id="6002" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6005" href="Definition.Untyped.html#5957" class="Bound">ρ</a> <a id="6007" href="Definition.Untyped.html#5969" class="Bound">t</a><a id="6008" class="Symbol">)</a> <a id="6010" class="Symbol">(</a><a id="6011" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6014" href="Definition.Untyped.html#5957" class="Bound">ρ</a> <a id="6016" href="Definition.Untyped.html#5971" class="Bound">u</a><a id="6017" class="Symbol">)</a> <a id="6019" class="Symbol">(</a><a id="6020" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6023" href="Definition.Untyped.html#5957" class="Bound">ρ</a> <a id="6025" href="Definition.Untyped.html#5973" class="Bound">v</a><a id="6026" class="Symbol">)</a>

<a id="6029" class="Comment">-- Adding one variable to the context requires wk1.</a>
<a id="6081" class="Comment">-- If Γ ⊢ t : B then Γ∙A ⊢ wk1 t : wk1 B.</a>

<a id="wk1" href="Definition.Untyped.html#wk1" class="Function">wk1</a> <a id="6128" class="Symbol">:</a> <a id="6130" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="6135" class="Symbol">→</a> <a id="6137" href="Definition.Untyped.html#Term" class="Datatype">Term</a>
<a id="6142" href="Definition.Untyped.html#wk1" class="Function">wk1</a> <a id="6146" class="Symbol">=</a> <a id="6148" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6151" class="Symbol">(</a><a id="6152" href="Definition.Untyped.html#Wk.step" class="InductiveConstructor">step</a> <a id="6157" href="Definition.Untyped.html#Wk.id" class="InductiveConstructor">id</a><a id="6159" class="Symbol">)</a>

<a id="6162" class="Comment">-- Weakening of a neutral term.</a>

<a id="wkNeutral" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6205" class="Symbol">:</a> <a id="6207" class="Symbol">∀</a> <a id="6209" class="Symbol">{</a><a id="6210" href="Definition.Untyped.html#6210" class="Bound">t</a><a id="6211" class="Symbol">}</a> <a id="6213" href="Definition.Untyped.html#6213" class="Bound">ρ</a> <a id="6215" class="Symbol">→</a> <a id="6217" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="6225" href="Definition.Untyped.html#6210" class="Bound">t</a> <a id="6227" class="Symbol">→</a> <a id="6229" href="Definition.Untyped.html#Neutral" class="Datatype">Neutral</a> <a id="6237" class="Symbol">(</a><a id="6238" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6241" href="Definition.Untyped.html#6213" class="Bound">ρ</a> <a id="6243" href="Definition.Untyped.html#6210" class="Bound">t</a><a id="6244" class="Symbol">)</a>
<a id="6246" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6256" href="Definition.Untyped.html#6256" class="Bound">ρ</a> <a id="6258" class="Symbol">(</a><a id="6259" href="Definition.Untyped.html#Neutral.var" class="InductiveConstructor">var</a> <a id="6263" href="Definition.Untyped.html#6263" class="Bound">n</a><a id="6264" class="Symbol">)</a>    <a id="6269" class="Symbol">=</a> <a id="6271" href="Definition.Untyped.html#Neutral.var" class="InductiveConstructor">var</a> <a id="6275" class="Symbol">(</a><a id="6276" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="6282" href="Definition.Untyped.html#6256" class="Bound">ρ</a> <a id="6284" href="Definition.Untyped.html#6263" class="Bound">n</a><a id="6285" class="Symbol">)</a>
<a id="6287" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6297" href="Definition.Untyped.html#6297" class="Bound">ρ</a> <a id="6299" class="Symbol">(</a><a id="6300" href="Definition.Untyped.html#Neutral._%E2%88%98_" class="InductiveConstructor Operator">_∘_</a> <a id="6304" href="Definition.Untyped.html#6304" class="Bound">n</a><a id="6305" class="Symbol">)</a>    <a id="6310" class="Symbol">=</a> <a id="6312" href="Definition.Untyped.html#Neutral._%E2%88%98_" class="InductiveConstructor Operator">_∘_</a> <a id="6316" class="Symbol">(</a><a id="6317" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6327" href="Definition.Untyped.html#6297" class="Bound">ρ</a> <a id="6329" href="Definition.Untyped.html#6304" class="Bound">n</a><a id="6330" class="Symbol">)</a>
<a id="6332" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6342" href="Definition.Untyped.html#6342" class="Bound">ρ</a> <a id="6344" class="Symbol">(</a><a id="6345" href="Definition.Untyped.html#Neutral.natrec" class="InductiveConstructor">natrec</a> <a id="6352" href="Definition.Untyped.html#6352" class="Bound">n</a><a id="6353" class="Symbol">)</a> <a id="6355" class="Symbol">=</a> <a id="6357" href="Definition.Untyped.html#Neutral.natrec" class="InductiveConstructor">natrec</a> <a id="6364" class="Symbol">(</a><a id="6365" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6375" href="Definition.Untyped.html#6342" class="Bound">ρ</a> <a id="6377" href="Definition.Untyped.html#6352" class="Bound">n</a><a id="6378" class="Symbol">)</a>

<a id="6381" class="Comment">-- Weakening can be applied to our whnf views.</a>

<a id="wkNatural" href="Definition.Untyped.html#wkNatural" class="Function">wkNatural</a> <a id="6439" class="Symbol">:</a> <a id="6441" class="Symbol">∀</a> <a id="6443" class="Symbol">{</a><a id="6444" href="Definition.Untyped.html#6444" class="Bound">t</a><a id="6445" class="Symbol">}</a> <a id="6447" href="Definition.Untyped.html#6447" class="Bound">ρ</a> <a id="6449" class="Symbol">→</a> <a id="6451" href="Definition.Untyped.html#Natural" class="Datatype">Natural</a> <a id="6459" href="Definition.Untyped.html#6444" class="Bound">t</a> <a id="6461" class="Symbol">→</a> <a id="6463" href="Definition.Untyped.html#Natural" class="Datatype">Natural</a> <a id="6471" class="Symbol">(</a><a id="6472" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6475" href="Definition.Untyped.html#6447" class="Bound">ρ</a> <a id="6477" href="Definition.Untyped.html#6444" class="Bound">t</a><a id="6478" class="Symbol">)</a>
<a id="6480" href="Definition.Untyped.html#wkNatural" class="Function">wkNatural</a> <a id="6490" href="Definition.Untyped.html#6490" class="Bound">ρ</a> <a id="6492" href="Definition.Untyped.html#Natural.suc" class="InductiveConstructor">suc</a>    <a id="6499" class="Symbol">=</a> <a id="6501" href="Definition.Untyped.html#Natural.suc" class="InductiveConstructor">suc</a>
<a id="6505" href="Definition.Untyped.html#wkNatural" class="Function">wkNatural</a> <a id="6515" href="Definition.Untyped.html#6515" class="Bound">ρ</a> <a id="6517" href="Definition.Untyped.html#Natural.zero" class="InductiveConstructor">zero</a>   <a id="6524" class="Symbol">=</a> <a id="6526" href="Definition.Untyped.html#Natural.zero" class="InductiveConstructor">zero</a>
<a id="6531" href="Definition.Untyped.html#wkNatural" class="Function">wkNatural</a> <a id="6541" href="Definition.Untyped.html#6541" class="Bound">ρ</a> <a id="6543" class="Symbol">(</a><a id="6544" href="Definition.Untyped.html#Natural.ne" class="InductiveConstructor">ne</a> <a id="6547" href="Definition.Untyped.html#6547" class="Bound">x</a><a id="6548" class="Symbol">)</a> <a id="6550" class="Symbol">=</a> <a id="6552" href="Definition.Untyped.html#Natural.ne" class="InductiveConstructor">ne</a> <a id="6555" class="Symbol">(</a><a id="6556" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6566" href="Definition.Untyped.html#6541" class="Bound">ρ</a> <a id="6568" href="Definition.Untyped.html#6547" class="Bound">x</a><a id="6569" class="Symbol">)</a>

<a id="wkType" href="Definition.Untyped.html#wkType" class="Function">wkType</a> <a id="6579" class="Symbol">:</a> <a id="6581" class="Symbol">∀</a> <a id="6583" class="Symbol">{</a><a id="6584" href="Definition.Untyped.html#6584" class="Bound">t</a><a id="6585" class="Symbol">}</a> <a id="6587" href="Definition.Untyped.html#6587" class="Bound">ρ</a> <a id="6589" class="Symbol">→</a> <a id="6591" href="Definition.Untyped.html#Type" class="Datatype">Type</a> <a id="6596" href="Definition.Untyped.html#6584" class="Bound">t</a> <a id="6598" class="Symbol">→</a> <a id="6600" href="Definition.Untyped.html#Type" class="Datatype">Type</a> <a id="6605" class="Symbol">(</a><a id="6606" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6609" href="Definition.Untyped.html#6587" class="Bound">ρ</a> <a id="6611" href="Definition.Untyped.html#6584" class="Bound">t</a><a id="6612" class="Symbol">)</a>
<a id="6614" href="Definition.Untyped.html#wkType" class="Function">wkType</a> <a id="6621" href="Definition.Untyped.html#6621" class="Bound">ρ</a> <a id="6623" href="Definition.Untyped.html#Type.%CE%A0" class="InductiveConstructor">Π</a>      <a id="6630" class="Symbol">=</a> <a id="6632" href="Definition.Untyped.html#Type.%CE%A0" class="InductiveConstructor">Π</a>
<a id="6634" href="Definition.Untyped.html#wkType" class="Function">wkType</a> <a id="6641" href="Definition.Untyped.html#6641" class="Bound">ρ</a> <a id="6643" href="Definition.Untyped.html#Type.%E2%84%95" class="InductiveConstructor">ℕ</a>      <a id="6650" class="Symbol">=</a> <a id="6652" href="Definition.Untyped.html#Type.%E2%84%95" class="InductiveConstructor">ℕ</a>
<a id="6654" href="Definition.Untyped.html#wkType" class="Function">wkType</a> <a id="6661" href="Definition.Untyped.html#6661" class="Bound">ρ</a> <a id="6663" class="Symbol">(</a><a id="6664" href="Definition.Untyped.html#Type.ne" class="InductiveConstructor">ne</a> <a id="6667" href="Definition.Untyped.html#6667" class="Bound">x</a><a id="6668" class="Symbol">)</a> <a id="6670" class="Symbol">=</a> <a id="6672" href="Definition.Untyped.html#Type.ne" class="InductiveConstructor">ne</a> <a id="6675" class="Symbol">(</a><a id="6676" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6686" href="Definition.Untyped.html#6661" class="Bound">ρ</a> <a id="6688" href="Definition.Untyped.html#6667" class="Bound">x</a><a id="6689" class="Symbol">)</a>

<a id="wkFunction" href="Definition.Untyped.html#wkFunction" class="Function">wkFunction</a> <a id="6703" class="Symbol">:</a> <a id="6705" class="Symbol">∀</a> <a id="6707" class="Symbol">{</a><a id="6708" href="Definition.Untyped.html#6708" class="Bound">t</a><a id="6709" class="Symbol">}</a> <a id="6711" href="Definition.Untyped.html#6711" class="Bound">ρ</a> <a id="6713" class="Symbol">→</a> <a id="6715" href="Definition.Untyped.html#Function" class="Datatype">Function</a> <a id="6724" href="Definition.Untyped.html#6708" class="Bound">t</a> <a id="6726" class="Symbol">→</a> <a id="6728" href="Definition.Untyped.html#Function" class="Datatype">Function</a> <a id="6737" class="Symbol">(</a><a id="6738" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6741" href="Definition.Untyped.html#6711" class="Bound">ρ</a> <a id="6743" href="Definition.Untyped.html#6708" class="Bound">t</a><a id="6744" class="Symbol">)</a>
<a id="6746" href="Definition.Untyped.html#wkFunction" class="Function">wkFunction</a> <a id="6757" href="Definition.Untyped.html#6757" class="Bound">ρ</a> <a id="6759" href="Definition.Untyped.html#Function.lam" class="InductiveConstructor">lam</a>    <a id="6766" class="Symbol">=</a> <a id="6768" href="Definition.Untyped.html#Function.lam" class="InductiveConstructor">lam</a>
<a id="6772" href="Definition.Untyped.html#wkFunction" class="Function">wkFunction</a> <a id="6783" href="Definition.Untyped.html#6783" class="Bound">ρ</a> <a id="6785" class="Symbol">(</a><a id="6786" href="Definition.Untyped.html#Function.ne" class="InductiveConstructor">ne</a> <a id="6789" href="Definition.Untyped.html#6789" class="Bound">x</a><a id="6790" class="Symbol">)</a> <a id="6792" class="Symbol">=</a> <a id="6794" href="Definition.Untyped.html#Function.ne" class="InductiveConstructor">ne</a> <a id="6797" class="Symbol">(</a><a id="6798" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="6808" href="Definition.Untyped.html#6783" class="Bound">ρ</a> <a id="6810" href="Definition.Untyped.html#6789" class="Bound">x</a><a id="6811" class="Symbol">)</a>

<a id="wkWhnf" href="Definition.Untyped.html#wkWhnf" class="Function">wkWhnf</a> <a id="6821" class="Symbol">:</a> <a id="6823" class="Symbol">∀</a> <a id="6825" class="Symbol">{</a><a id="6826" href="Definition.Untyped.html#6826" class="Bound">t</a><a id="6827" class="Symbol">}</a> <a id="6829" href="Definition.Untyped.html#6829" class="Bound">ρ</a> <a id="6831" class="Symbol">→</a> <a id="6833" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="6838" href="Definition.Untyped.html#6826" class="Bound">t</a> <a id="6840" class="Symbol">→</a> <a id="6842" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="6847" class="Symbol">(</a><a id="6848" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="6851" href="Definition.Untyped.html#6829" class="Bound">ρ</a> <a id="6853" href="Definition.Untyped.html#6826" class="Bound">t</a><a id="6854" class="Symbol">)</a>
<a id="6856" href="Definition.Untyped.html#wkWhnf" class="Function">wkWhnf</a> <a id="6863" href="Definition.Untyped.html#6863" class="Bound">ρ</a> <a id="6865" href="Definition.Untyped.html#Whnf.U" class="InductiveConstructor">U</a>      <a id="6872" class="Symbol">=</a> <a id="6874" href="Definition.Untyped.html#Whnf.U" class="InductiveConstructor">U</a>
<a id="6876" href="Definition.Untyped.html#wkWhnf" class="Function">wkWhnf</a> <a id="6883" href="Definition.Untyped.html#6883" class="Bound">ρ</a> <a id="6885" href="Definition.Untyped.html#Whnf.%CE%A0" class="InductiveConstructor">Π</a>      <a id="6892" class="Symbol">=</a> <a id="6894" href="Definition.Untyped.html#Whnf.%CE%A0" class="InductiveConstructor">Π</a>
<a id="6896" href="Definition.Untyped.html#wkWhnf" class="Function">wkWhnf</a> <a id="6903" href="Definition.Untyped.html#6903" class="Bound">ρ</a> <a id="6905" href="Definition.Untyped.html#Whnf.%E2%84%95" class="InductiveConstructor">ℕ</a>      <a id="6912" class="Symbol">=</a> <a id="6914" href="Definition.Untyped.html#Whnf.%E2%84%95" class="InductiveConstructor">ℕ</a>
<a id="6916" href="Definition.Untyped.html#wkWhnf" class="Function">wkWhnf</a> <a id="6923" href="Definition.Untyped.html#6923" class="Bound">ρ</a> <a id="6925" href="Definition.Untyped.html#Whnf.lam" class="InductiveConstructor">lam</a>    <a id="6932" class="Symbol">=</a> <a id="6934" href="Definition.Untyped.html#Whnf.lam" class="InductiveConstructor">lam</a>
<a id="6938" href="Definition.Untyped.html#wkWhnf" class="Function">wkWhnf</a> <a id="6945" href="Definition.Untyped.html#6945" class="Bound">ρ</a> <a id="6947" href="Definition.Untyped.html#Whnf.zero" class="InductiveConstructor">zero</a>   <a id="6954" class="Symbol">=</a> <a id="6956" href="Definition.Untyped.html#Whnf.zero" class="InductiveConstructor">zero</a>
<a id="6961" href="Definition.Untyped.html#wkWhnf" class="Function">wkWhnf</a> <a id="6968" href="Definition.Untyped.html#6968" class="Bound">ρ</a> <a id="6970" href="Definition.Untyped.html#Whnf.suc" class="InductiveConstructor">suc</a>    <a id="6977" class="Symbol">=</a> <a id="6979" href="Definition.Untyped.html#Whnf.suc" class="InductiveConstructor">suc</a>
<a id="6983" href="Definition.Untyped.html#wkWhnf" class="Function">wkWhnf</a> <a id="6990" href="Definition.Untyped.html#6990" class="Bound">ρ</a> <a id="6992" class="Symbol">(</a><a id="6993" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="6996" href="Definition.Untyped.html#6996" class="Bound">x</a><a id="6997" class="Symbol">)</a> <a id="6999" class="Symbol">=</a> <a id="7001" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="7004" class="Symbol">(</a><a id="7005" href="Definition.Untyped.html#wkNeutral" class="Function">wkNeutral</a> <a id="7015" href="Definition.Untyped.html#6990" class="Bound">ρ</a> <a id="7017" href="Definition.Untyped.html#6996" class="Bound">x</a><a id="7018" class="Symbol">)</a>

<a id="7021" class="Comment">-- Non-dependent version of Π.</a>

<a id="_▹▹_" href="Definition.Untyped.html#_%E2%96%B9%E2%96%B9_" class="Function Operator">_▹▹_</a> <a id="7058" class="Symbol">:</a> <a id="7060" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="7065" class="Symbol">→</a> <a id="7067" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="7072" class="Symbol">→</a> <a id="7074" href="Definition.Untyped.html#Term" class="Datatype">Term</a>
<a id="7079" href="Definition.Untyped.html#7079" class="Bound">A</a> <a id="7081" href="Definition.Untyped.html#_%E2%96%B9%E2%96%B9_" class="Function Operator">▹▹</a> <a id="7084" href="Definition.Untyped.html#7084" class="Bound">B</a> <a id="7086" class="Symbol">=</a> <a id="7088" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="7090" href="Definition.Untyped.html#7079" class="Bound">A</a> <a id="7092" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="7094" href="Definition.Untyped.html#wk1" class="Function">wk1</a> <a id="7098" href="Definition.Untyped.html#7084" class="Bound">B</a>

<a id="7101" class="Comment">------------------------------------------------------------------------</a>
<a id="7174" class="Comment">-- Substitution</a>

<a id="7191" class="Comment">-- The substitution operation  subst σ t  replaces the free de Bruijn indices</a>
<a id="7269" class="Comment">-- of term t by chosen terms as specified by σ.</a>

<a id="7318" class="Comment">-- The substitution σ itself is a map from natural numbers to terms.</a>

<a id="Subst" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="7394" class="Symbol">:</a> <a id="7396" class="PrimitiveType">Set</a>
<a id="7400" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="7406" class="Symbol">=</a> <a id="7408" href="Agda.Builtin.Nat.html#Nat" class="Datatype">Nat</a> <a id="7412" class="Symbol">→</a> <a id="7414" href="Definition.Untyped.html#Term" class="Datatype">Term</a>

<a id="7420" class="Comment">-- Given closed contexts ⊢ Γ and ⊢ Δ,</a>
<a id="7458" class="Comment">-- substitutions may be typed via Γ ⊢ σ : Δ meaning that</a>
<a id="7515" class="Comment">-- Γ ⊢ σ(x) : (subst σ Δ)(x) for all x ∈ dom(Δ).</a>
<a id="7564" class="Comment">--</a>
<a id="7567" class="Comment">-- The substitution operation is then typed as follows:</a>
<a id="7623" class="Comment">-- If Γ ⊢ σ : Δ and Δ ⊢ t : A, then Γ ⊢ subst σ t : subst σ A.</a>
<a id="7686" class="Comment">--</a>
<a id="7689" class="Comment">-- Although substitutions are untyped, typing helps us</a>
<a id="7744" class="Comment">-- to understand the operation on substitutions.</a>

<a id="7794" class="Comment">-- We may view σ as the infinite stream σ 0, σ 1, ...</a>

<a id="7849" class="Comment">-- Extract the substitution of the first variable.</a>
<a id="7900" class="Comment">--</a>
<a id="7903" class="Comment">-- If Γ ⊢ σ : Δ∙A  then Γ ⊢ head σ : subst σ A.</a>

<a id="head" href="Definition.Untyped.html#head" class="Function">head</a> <a id="7957" class="Symbol">:</a> <a id="7959" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="7965" class="Symbol">→</a> <a id="7967" href="Definition.Untyped.html#Term" class="Datatype">Term</a>
<a id="7972" href="Definition.Untyped.html#head" class="Function">head</a> <a id="7977" href="Definition.Untyped.html#7977" class="Bound">σ</a> <a id="7979" class="Symbol">=</a> <a id="7981" href="Definition.Untyped.html#7977" class="Bound">σ</a> <a id="7983" class="Number">0</a>

<a id="7986" class="Comment">-- Remove the first variable instance of a substitution</a>
<a id="8042" class="Comment">-- and shift the rest to accommodate.</a>
<a id="8080" class="Comment">--</a>
<a id="8083" class="Comment">-- If Γ ⊢ σ : Δ∙A then Γ ⊢ tail σ : Δ.</a>

<a id="tail" href="Definition.Untyped.html#tail" class="Function">tail</a> <a id="8128" class="Symbol">:</a> <a id="8130" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="8136" class="Symbol">→</a> <a id="8138" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="8144" href="Definition.Untyped.html#tail" class="Function">tail</a> <a id="8149" href="Definition.Untyped.html#8149" class="Bound">σ</a> <a id="8151" href="Definition.Untyped.html#8151" class="Bound">n</a> <a id="8153" class="Symbol">=</a> <a id="8155" href="Definition.Untyped.html#8149" class="Bound">σ</a> <a id="8157" class="Symbol">(</a><a id="8158" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8162" href="Definition.Untyped.html#8151" class="Bound">n</a><a id="8163" class="Symbol">)</a>

<a id="8166" class="Comment">-- Substitution of a variable.</a>
<a id="8197" class="Comment">--</a>
<a id="8200" class="Comment">-- If Γ ⊢ σ : Δ then Γ ⊢ substVar σ x : (subst σ Δ)(x).</a>

<a id="substVar" href="Definition.Untyped.html#substVar" class="Function">substVar</a> <a id="8266" class="Symbol">:</a> <a id="8268" class="Symbol">(</a><a id="8269" href="Definition.Untyped.html#8269" class="Bound">σ</a> <a id="8271" class="Symbol">:</a> <a id="8273" href="Definition.Untyped.html#Subst" class="Function">Subst</a><a id="8278" class="Symbol">)</a> <a id="8280" class="Symbol">(</a><a id="8281" href="Definition.Untyped.html#8281" class="Bound">x</a> <a id="8283" class="Symbol">:</a> <a id="8285" href="Agda.Builtin.Nat.html#Nat" class="Datatype">Nat</a><a id="8288" class="Symbol">)</a> <a id="8290" class="Symbol">→</a> <a id="8292" href="Definition.Untyped.html#Term" class="Datatype">Term</a>
<a id="8297" href="Definition.Untyped.html#substVar" class="Function">substVar</a> <a id="8306" href="Definition.Untyped.html#8306" class="Bound">σ</a> <a id="8308" href="Definition.Untyped.html#8308" class="Bound">x</a> <a id="8310" class="Symbol">=</a> <a id="8312" href="Definition.Untyped.html#8306" class="Bound">σ</a> <a id="8314" href="Definition.Untyped.html#8308" class="Bound">x</a>

<a id="8317" class="Comment">-- Identity substitution.</a>
<a id="8343" class="Comment">-- Replaces each variable by itself.</a>
<a id="8380" class="Comment">--</a>
<a id="8383" class="Comment">-- Γ ⊢ idSubst : Γ.</a>

<a id="idSubst" href="Definition.Untyped.html#idSubst" class="Function">idSubst</a> <a id="8412" class="Symbol">:</a> <a id="8414" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="8420" href="Definition.Untyped.html#idSubst" class="Function">idSubst</a> <a id="8428" class="Symbol">=</a> <a id="8430" href="Definition.Untyped.html#Term.var" class="InductiveConstructor">var</a>

<a id="8435" class="Comment">-- Weaken a substitution by one.</a>
<a id="8468" class="Comment">--</a>
<a id="8471" class="Comment">-- If Γ ⊢ σ : Δ then Γ∙A ⊢ wk1Subst σ : Δ.</a>

<a id="wk1Subst" href="Definition.Untyped.html#wk1Subst" class="Function">wk1Subst</a> <a id="8524" class="Symbol">:</a> <a id="8526" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="8532" class="Symbol">→</a> <a id="8534" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="8540" href="Definition.Untyped.html#wk1Subst" class="Function">wk1Subst</a> <a id="8549" href="Definition.Untyped.html#8549" class="Bound">σ</a> <a id="8551" href="Definition.Untyped.html#8551" class="Bound">x</a> <a id="8553" class="Symbol">=</a> <a id="8555" href="Definition.Untyped.html#wk1" class="Function">wk1</a> <a id="8559" class="Symbol">(</a><a id="8560" href="Definition.Untyped.html#8549" class="Bound">σ</a> <a id="8562" href="Definition.Untyped.html#8551" class="Bound">x</a><a id="8563" class="Symbol">)</a>

<a id="8566" class="Comment">-- Lift a substitution.</a>
<a id="8590" class="Comment">--</a>
<a id="8593" class="Comment">-- If Γ ⊢ σ : Δ then Γ∙A ⊢ liftSubst σ : Δ∙A.</a>

<a id="liftSubst" href="Definition.Untyped.html#liftSubst" class="Function">liftSubst</a> <a id="8650" class="Symbol">:</a> <a id="8652" class="Symbol">(</a><a id="8653" href="Definition.Untyped.html#8653" class="Bound">σ</a> <a id="8655" class="Symbol">:</a> <a id="8657" href="Definition.Untyped.html#Subst" class="Function">Subst</a><a id="8662" class="Symbol">)</a> <a id="8664" class="Symbol">→</a> <a id="8666" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="8672" href="Definition.Untyped.html#liftSubst" class="Function">liftSubst</a> <a id="8682" href="Definition.Untyped.html#8682" class="Bound">σ</a> <a id="8684" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>    <a id="8692" class="Symbol">=</a> <a id="8694" href="Definition.Untyped.html#Term.var" class="InductiveConstructor">var</a> <a id="8698" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>
<a id="8703" href="Definition.Untyped.html#liftSubst" class="Function">liftSubst</a> <a id="8713" href="Definition.Untyped.html#8713" class="Bound">σ</a> <a id="8715" class="Symbol">(</a><a id="8716" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="8720" href="Definition.Untyped.html#8720" class="Bound">x</a><a id="8721" class="Symbol">)</a> <a id="8723" class="Symbol">=</a> <a id="8725" href="Definition.Untyped.html#wk1Subst" class="Function">wk1Subst</a> <a id="8734" href="Definition.Untyped.html#8713" class="Bound">σ</a> <a id="8736" href="Definition.Untyped.html#8720" class="Bound">x</a>

<a id="8739" class="Comment">-- Transform a weakening into a substitution.</a>
<a id="8785" class="Comment">--</a>
<a id="8788" class="Comment">-- If ρ : Γ ≤ Δ then Γ ⊢ toSubst ρ : Δ.</a>

<a id="toSubst" href="Definition.Untyped.html#toSubst" class="Function">toSubst</a> <a id="8837" class="Symbol">:</a> <a id="8839" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a> <a id="8842" class="Symbol">→</a> <a id="8844" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="8850" href="Definition.Untyped.html#toSubst" class="Function">toSubst</a> <a id="8858" href="Definition.Untyped.html#8858" class="Bound">pr</a> <a id="8861" href="Definition.Untyped.html#8861" class="Bound">x</a> <a id="8863" class="Symbol">=</a> <a id="8865" href="Definition.Untyped.html#Term.var" class="InductiveConstructor">var</a> <a id="8869" class="Symbol">(</a><a id="8870" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="8876" href="Definition.Untyped.html#8858" class="Bound">pr</a> <a id="8879" href="Definition.Untyped.html#8861" class="Bound">x</a><a id="8880" class="Symbol">)</a>

<a id="8883" class="Comment">-- Apply a substitution to a term.</a>
<a id="8918" class="Comment">--</a>
<a id="8921" class="Comment">-- If Γ ⊢ σ : Δ and Δ ⊢ t : A then Γ ⊢ subst σ t : subst σ A.</a>

<a id="subst" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="8990" class="Symbol">:</a> <a id="8992" class="Symbol">(</a><a id="8993" href="Definition.Untyped.html#8993" class="Bound">σ</a> <a id="8995" class="Symbol">:</a> <a id="8997" href="Definition.Untyped.html#Subst" class="Function">Subst</a><a id="9002" class="Symbol">)</a> <a id="9004" class="Symbol">(</a><a id="9005" href="Definition.Untyped.html#9005" class="Bound">t</a> <a id="9007" class="Symbol">:</a> <a id="9009" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="9013" class="Symbol">)</a> <a id="9015" class="Symbol">→</a> <a id="9017" href="Definition.Untyped.html#Term" class="Datatype">Term</a>
<a id="9022" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9028" href="Definition.Untyped.html#9028" class="Bound">σ</a> <a id="9030" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a>          <a id="9041" class="Symbol">=</a> <a id="9043" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a>
<a id="9045" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9051" href="Definition.Untyped.html#9051" class="Bound">σ</a> <a id="9053" class="Symbol">(</a><a id="9054" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="9056" href="Definition.Untyped.html#9056" class="Bound">A</a> <a id="9058" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="9060" href="Definition.Untyped.html#9060" class="Bound">B</a><a id="9061" class="Symbol">)</a> <a id="9063" class="Symbol">=</a> <a id="9065" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="9067" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9073" href="Definition.Untyped.html#9051" class="Bound">σ</a> <a id="9075" href="Definition.Untyped.html#9056" class="Bound">A</a> <a id="9077" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="9079" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9085" class="Symbol">(</a><a id="9086" href="Definition.Untyped.html#liftSubst" class="Function">liftSubst</a> <a id="9096" href="Definition.Untyped.html#9051" class="Bound">σ</a><a id="9097" class="Symbol">)</a> <a id="9099" href="Definition.Untyped.html#9060" class="Bound">B</a>
<a id="9101" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9107" href="Definition.Untyped.html#9107" class="Bound">σ</a> <a id="9109" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a>          <a id="9120" class="Symbol">=</a> <a id="9122" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a>
<a id="9124" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9130" href="Definition.Untyped.html#9130" class="Bound">σ</a> <a id="9132" class="Symbol">(</a><a id="9133" href="Definition.Untyped.html#Term.var" class="InductiveConstructor">var</a> <a id="9137" href="Definition.Untyped.html#9137" class="Bound">x</a><a id="9138" class="Symbol">)</a>    <a id="9143" class="Symbol">=</a> <a id="9145" href="Definition.Untyped.html#substVar" class="Function">substVar</a> <a id="9154" href="Definition.Untyped.html#9130" class="Bound">σ</a> <a id="9156" href="Definition.Untyped.html#9137" class="Bound">x</a>
<a id="9158" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9164" href="Definition.Untyped.html#9164" class="Bound">σ</a> <a id="9166" class="Symbol">(</a><a id="9167" href="Definition.Untyped.html#Term.lam" class="InductiveConstructor">lam</a> <a id="9171" href="Definition.Untyped.html#9171" class="Bound">t</a><a id="9172" class="Symbol">)</a>    <a id="9177" class="Symbol">=</a> <a id="9179" href="Definition.Untyped.html#Term.lam" class="InductiveConstructor">lam</a> <a id="9183" class="Symbol">(</a><a id="9184" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9190" class="Symbol">(</a><a id="9191" href="Definition.Untyped.html#liftSubst" class="Function">liftSubst</a> <a id="9201" href="Definition.Untyped.html#9164" class="Bound">σ</a><a id="9202" class="Symbol">)</a> <a id="9204" href="Definition.Untyped.html#9171" class="Bound">t</a><a id="9205" class="Symbol">)</a>
<a id="9207" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9213" href="Definition.Untyped.html#9213" class="Bound">σ</a> <a id="9215" class="Symbol">(</a><a id="9216" href="Definition.Untyped.html#9216" class="Bound">t</a> <a id="9218" href="Definition.Untyped.html#Term._%E2%88%98_" class="InductiveConstructor Operator">∘</a> <a id="9220" href="Definition.Untyped.html#9220" class="Bound">u</a><a id="9221" class="Symbol">)</a>    <a id="9226" class="Symbol">=</a> <a id="9228" class="Symbol">(</a><a id="9229" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9235" href="Definition.Untyped.html#9213" class="Bound">σ</a> <a id="9237" href="Definition.Untyped.html#9216" class="Bound">t</a><a id="9238" class="Symbol">)</a> <a id="9240" href="Definition.Untyped.html#Term._%E2%88%98_" class="InductiveConstructor Operator">∘</a> <a id="9242" class="Symbol">(</a><a id="9243" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9249" href="Definition.Untyped.html#9213" class="Bound">σ</a> <a id="9251" href="Definition.Untyped.html#9220" class="Bound">u</a><a id="9252" class="Symbol">)</a>
<a id="9254" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9260" href="Definition.Untyped.html#9260" class="Bound">σ</a> <a id="9262" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">zero</a>       <a id="9273" class="Symbol">=</a> <a id="9275" href="Definition.Untyped.html#Term.zero" class="InductiveConstructor">zero</a>
<a id="9280" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9286" href="Definition.Untyped.html#9286" class="Bound">σ</a> <a id="9288" class="Symbol">(</a><a id="9289" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a> <a id="9293" href="Definition.Untyped.html#9293" class="Bound">t</a><a id="9294" class="Symbol">)</a>    <a id="9299" class="Symbol">=</a> <a id="9301" href="Definition.Untyped.html#Term.suc" class="InductiveConstructor">suc</a> <a id="9305" class="Symbol">(</a><a id="9306" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9312" href="Definition.Untyped.html#9286" class="Bound">σ</a> <a id="9314" href="Definition.Untyped.html#9293" class="Bound">t</a><a id="9315" class="Symbol">)</a>
<a id="9317" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9323" href="Definition.Untyped.html#9323" class="Bound">σ</a> <a id="9325" class="Symbol">(</a><a id="9326" href="Definition.Untyped.html#Term.natrec" class="InductiveConstructor">natrec</a> <a id="9333" href="Definition.Untyped.html#9333" class="Bound">A</a> <a id="9335" href="Definition.Untyped.html#9335" class="Bound">t</a> <a id="9337" href="Definition.Untyped.html#9337" class="Bound">u</a> <a id="9339" href="Definition.Untyped.html#9339" class="Bound">v</a><a id="9340" class="Symbol">)</a> <a id="9342" class="Symbol">=</a>
  <a id="9346" href="Definition.Untyped.html#Term.natrec" class="InductiveConstructor">natrec</a> <a id="9353" class="Symbol">(</a><a id="9354" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9360" class="Symbol">(</a><a id="9361" href="Definition.Untyped.html#liftSubst" class="Function">liftSubst</a> <a id="9371" href="Definition.Untyped.html#9323" class="Bound">σ</a><a id="9372" class="Symbol">)</a> <a id="9374" href="Definition.Untyped.html#9333" class="Bound">A</a><a id="9375" class="Symbol">)</a> <a id="9377" class="Symbol">(</a><a id="9378" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9384" href="Definition.Untyped.html#9323" class="Bound">σ</a> <a id="9386" href="Definition.Untyped.html#9335" class="Bound">t</a><a id="9387" class="Symbol">)</a> <a id="9389" class="Symbol">(</a><a id="9390" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9396" href="Definition.Untyped.html#9323" class="Bound">σ</a> <a id="9398" href="Definition.Untyped.html#9337" class="Bound">u</a><a id="9399" class="Symbol">)</a> <a id="9401" class="Symbol">(</a><a id="9402" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9408" href="Definition.Untyped.html#9323" class="Bound">σ</a> <a id="9410" href="Definition.Untyped.html#9339" class="Bound">v</a><a id="9411" class="Symbol">)</a>

<a id="9414" class="Comment">-- Extend a substitution by adding a term as</a>
<a id="9459" class="Comment">-- the first variable substitution and shift the rest.</a>
<a id="9514" class="Comment">--</a>
<a id="9517" class="Comment">-- If Γ ⊢ σ : Δ and Γ ⊢ t : subst σ A then Γ ⊢ consSubst σ t : Δ∙A.</a>

<a id="consSubst" href="Definition.Untyped.html#consSubst" class="Function">consSubst</a> <a id="9596" class="Symbol">:</a> <a id="9598" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="9604" class="Symbol">→</a> <a id="9606" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="9611" class="Symbol">→</a> <a id="9613" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="9619" href="Definition.Untyped.html#consSubst" class="Function">consSubst</a> <a id="9629" href="Definition.Untyped.html#9629" class="Bound">σ</a> <a id="9631" href="Definition.Untyped.html#9631" class="Bound">t</a> <a id="9633" href="Agda.Builtin.Nat.html#Nat.zero" class="InductiveConstructor">zero</a>    <a id="9641" class="Symbol">=</a> <a id="9643" href="Definition.Untyped.html#9631" class="Bound">t</a>
<a id="9645" href="Definition.Untyped.html#consSubst" class="Function">consSubst</a> <a id="9655" href="Definition.Untyped.html#9655" class="Bound">σ</a> <a id="9657" href="Definition.Untyped.html#9657" class="Bound">t</a> <a id="9659" class="Symbol">(</a><a id="9660" href="Agda.Builtin.Nat.html#Nat.suc" class="InductiveConstructor">suc</a> <a id="9664" href="Definition.Untyped.html#9664" class="Bound">n</a><a id="9665" class="Symbol">)</a> <a id="9667" class="Symbol">=</a> <a id="9669" href="Definition.Untyped.html#9655" class="Bound">σ</a> <a id="9671" href="Definition.Untyped.html#9664" class="Bound">n</a>

<a id="9674" class="Comment">-- Singleton substitution.</a>
<a id="9701" class="Comment">--</a>
<a id="9704" class="Comment">-- If Γ ⊢ t : A then Γ ⊢ sgSubst t : Γ∙A.</a>

<a id="sgSubst" href="Definition.Untyped.html#sgSubst" class="Function">sgSubst</a> <a id="9755" class="Symbol">:</a> <a id="9757" href="Definition.Untyped.html#Term" class="Datatype">Term</a> <a id="9762" class="Symbol">→</a> <a id="9764" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="9770" href="Definition.Untyped.html#sgSubst" class="Function">sgSubst</a> <a id="9778" class="Symbol">=</a> <a id="9780" href="Definition.Untyped.html#consSubst" class="Function">consSubst</a> <a id="9790" href="Definition.Untyped.html#idSubst" class="Function">idSubst</a>

<a id="9799" class="Comment">-- Compose two substitutions.</a>
<a id="9829" class="Comment">--</a>
<a id="9832" class="Comment">-- If Γ ⊢ σ : Δ and Δ ⊢ σ′ : Φ then Γ ⊢ σ ₛ•ₛ σ′ : Φ.</a>

<a id="_ₛ•ₛ_" href="Definition.Untyped.html#_%E2%82%9B%E2%80%A2%E2%82%9B_" class="Function Operator">_ₛ•ₛ_</a> <a id="9893" class="Symbol">:</a> <a id="9895" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="9901" class="Symbol">→</a> <a id="9903" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="9909" class="Symbol">→</a> <a id="9911" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="9917" href="Definition.Untyped.html#_%E2%82%9B%E2%80%A2%E2%82%9B_" class="Function Operator">_ₛ•ₛ_</a> <a id="9923" href="Definition.Untyped.html#9923" class="Bound">σ</a> <a id="9925" href="Definition.Untyped.html#9925" class="Bound">σ′</a> <a id="9928" href="Definition.Untyped.html#9928" class="Bound">x</a> <a id="9930" class="Symbol">=</a> <a id="9932" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="9938" href="Definition.Untyped.html#9923" class="Bound">σ</a> <a id="9940" class="Symbol">(</a><a id="9941" href="Definition.Untyped.html#9925" class="Bound">σ′</a> <a id="9944" href="Definition.Untyped.html#9928" class="Bound">x</a><a id="9945" class="Symbol">)</a>

<a id="9948" class="Comment">-- Composition of weakening and substitution.</a>
<a id="9994" class="Comment">--</a>
<a id="9997" class="Comment">--  If ρ : Γ ≤ Δ and Δ ⊢ σ : Φ then Γ ⊢ ρ •ₛ σ : Φ.</a>

<a id="_•ₛ_" href="Definition.Untyped.html#_%E2%80%A2%E2%82%9B_" class="Function Operator">_•ₛ_</a> <a id="10055" class="Symbol">:</a> <a id="10057" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a> <a id="10060" class="Symbol">→</a> <a id="10062" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="10068" class="Symbol">→</a> <a id="10070" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="10076" href="Definition.Untyped.html#_%E2%80%A2%E2%82%9B_" class="Function Operator">_•ₛ_</a> <a id="10081" href="Definition.Untyped.html#10081" class="Bound">ρ</a> <a id="10083" href="Definition.Untyped.html#10083" class="Bound">σ</a> <a id="10085" href="Definition.Untyped.html#10085" class="Bound">x</a> <a id="10087" class="Symbol">=</a> <a id="10089" href="Definition.Untyped.html#wk" class="Function">wk</a> <a id="10092" href="Definition.Untyped.html#10081" class="Bound">ρ</a> <a id="10094" class="Symbol">(</a><a id="10095" href="Definition.Untyped.html#10083" class="Bound">σ</a> <a id="10097" href="Definition.Untyped.html#10085" class="Bound">x</a><a id="10098" class="Symbol">)</a>

<a id="10101" class="Comment">--  If Γ ⊢ σ : Δ and ρ : Δ ≤ Φ then Γ ⊢ σ ₛ• ρ : Φ.</a>

<a id="_ₛ•_" href="Definition.Untyped.html#_%E2%82%9B%E2%80%A2_" class="Function Operator">_ₛ•_</a> <a id="10159" class="Symbol">:</a> <a id="10161" href="Definition.Untyped.html#Subst" class="Function">Subst</a> <a id="10167" class="Symbol">→</a> <a id="10169" href="Definition.Untyped.html#Wk" class="Datatype">Wk</a> <a id="10172" class="Symbol">→</a> <a id="10174" href="Definition.Untyped.html#Subst" class="Function">Subst</a>
<a id="10180" href="Definition.Untyped.html#_%E2%82%9B%E2%80%A2_" class="Function Operator">_ₛ•_</a> <a id="10185" href="Definition.Untyped.html#10185" class="Bound">σ</a> <a id="10187" href="Definition.Untyped.html#10187" class="Bound">ρ</a> <a id="10189" href="Definition.Untyped.html#10189" class="Bound">x</a> <a id="10191" class="Symbol">=</a> <a id="10193" href="Definition.Untyped.html#10185" class="Bound">σ</a> <a id="10195" class="Symbol">(</a><a id="10196" href="Definition.Untyped.html#wkVar" class="Function">wkVar</a> <a id="10202" href="Definition.Untyped.html#10187" class="Bound">ρ</a> <a id="10204" href="Definition.Untyped.html#10189" class="Bound">x</a><a id="10205" class="Symbol">)</a>

<a id="10208" class="Comment">-- Substitute the first variable of a term with an other term.</a>
<a id="10271" class="Comment">--</a>
<a id="10274" class="Comment">-- If Γ∙A ⊢ t : B and Γ ⊢ s : A then Γ ⊢ t[s] : B[s].</a>

<a id="_[_]" href="Definition.Untyped.html#_%5B_%5D" class="Function Operator">_[_]</a> <a id="10334" class="Symbol">:</a> <a id="10336" class="Symbol">(</a><a id="10337" href="Definition.Untyped.html#10337" class="Bound">t</a> <a id="10339" class="Symbol">:</a> <a id="10341" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="10345" class="Symbol">)</a> <a id="10347" class="Symbol">(</a><a id="10348" href="Definition.Untyped.html#10348" class="Bound">s</a> <a id="10350" class="Symbol">:</a> <a id="10352" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="10356" class="Symbol">)</a> <a id="10358" class="Symbol">→</a> <a id="10360" href="Definition.Untyped.html#Term" class="Datatype">Term</a>
<a id="10365" href="Definition.Untyped.html#10365" class="Bound">t</a> <a id="10367" href="Definition.Untyped.html#_%5B_%5D" class="Function Operator">[</a> <a id="10369" href="Definition.Untyped.html#10369" class="Bound">s</a> <a id="10371" href="Definition.Untyped.html#_%5B_%5D" class="Function Operator">]</a> <a id="10373" class="Symbol">=</a> <a id="10375" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="10381" class="Symbol">(</a><a id="10382" href="Definition.Untyped.html#sgSubst" class="Function">sgSubst</a> <a id="10390" href="Definition.Untyped.html#10369" class="Bound">s</a><a id="10391" class="Symbol">)</a> <a id="10393" href="Definition.Untyped.html#10365" class="Bound">t</a>

<a id="10396" class="Comment">-- Substitute the first variable of a term with an other term,</a>
<a id="10459" class="Comment">-- but let the two terms share the same context.</a>
<a id="10508" class="Comment">--</a>
<a id="10511" class="Comment">-- If Γ∙A ⊢ t : B and Γ∙A ⊢ s : A then Γ∙A ⊢ t[s]↑ : B[s]↑.</a>

<a id="_[_]↑" href="Definition.Untyped.html#_%5B_%5D%E2%86%91" class="Function Operator">_[_]↑</a> <a id="10578" class="Symbol">:</a> <a id="10580" class="Symbol">(</a><a id="10581" href="Definition.Untyped.html#10581" class="Bound">t</a> <a id="10583" class="Symbol">:</a> <a id="10585" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="10589" class="Symbol">)</a> <a id="10591" class="Symbol">(</a><a id="10592" href="Definition.Untyped.html#10592" class="Bound">s</a> <a id="10594" class="Symbol">:</a> <a id="10596" href="Definition.Untyped.html#Term" class="Datatype">Term</a><a id="10600" class="Symbol">)</a> <a id="10602" class="Symbol">→</a> <a id="10604" href="Definition.Untyped.html#Term" class="Datatype">Term</a>
<a id="10609" href="Definition.Untyped.html#10609" class="Bound">t</a> <a id="10611" href="Definition.Untyped.html#_%5B_%5D%E2%86%91" class="Function Operator">[</a> <a id="10613" href="Definition.Untyped.html#10613" class="Bound">s</a> <a id="10615" href="Definition.Untyped.html#_%5B_%5D%E2%86%91" class="Function Operator">]↑</a> <a id="10618" class="Symbol">=</a> <a id="10620" href="Definition.Untyped.html#subst" class="Function">subst</a> <a id="10626" class="Symbol">(</a><a id="10627" href="Definition.Untyped.html#consSubst" class="Function">consSubst</a> <a id="10637" class="Symbol">(</a><a id="10638" href="Definition.Untyped.html#wk1Subst" class="Function">wk1Subst</a> <a id="10647" href="Definition.Untyped.html#idSubst" class="Function">idSubst</a><a id="10654" class="Symbol">)</a> <a id="10656" href="Definition.Untyped.html#10613" class="Bound">s</a><a id="10657" class="Symbol">)</a> <a id="10659" href="Definition.Untyped.html#10609" class="Bound">t</a>
</pre></body></html>