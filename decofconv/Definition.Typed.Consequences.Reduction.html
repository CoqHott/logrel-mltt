<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Typed.Consequences.Reduction</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--without-K</a> <a id="25" class="Option">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Definition.Typed.Consequences.Reduction.html" class="Module">Definition.Typed.Consequences.Reduction</a> <a id="84" class="Keyword">where</a>

<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Definition.Untyped.html" class="Module">Definition.Untyped</a>
<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Definition.Untyped.Properties.html" class="Module">Definition.Untyped.Properties</a>
<a id="164" class="Keyword">open</a> <a id="169" class="Keyword">import</a> <a id="176" href="Definition.Typed.html" class="Module">Definition.Typed</a>
<a id="193" class="Keyword">open</a> <a id="198" class="Keyword">import</a> <a id="205" href="Definition.Typed.RedSteps.html" class="Module">Definition.Typed.RedSteps</a>
<a id="231" class="Keyword">open</a> <a id="236" class="Keyword">import</a> <a id="243" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a>
<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a>
<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Definition.LogicalRelation.Properties.html" class="Module">Definition.LogicalRelation.Properties</a>
<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Definition.LogicalRelation.Substitution.html" class="Module">Definition.LogicalRelation.Substitution</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Definition.LogicalRelation.Substitution.Reducibility.html" class="Module">Definition.LogicalRelation.Substitution.Reducibility</a>
<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Definition.LogicalRelation.Fundamental.html" class="Module">Definition.LogicalRelation.Fundamental</a>

<a id="572" class="Keyword">open</a> <a id="577" class="Keyword">import</a> <a id="584" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="598" class="Keyword">import</a> <a id="605" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="633" class="Symbol">as</a> <a id="636" class="Module">PE</a>


<a id="641" class="Comment">-- Helper function where all reducible types can be reduced to WHNF.</a>
<a id="whNorm′" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="718" class="Symbol">:</a> <a id="720" class="Symbol">∀</a> <a id="722" class="Symbol">{</a><a id="723" href="Definition.Typed.Consequences.Reduction.html#723" class="Bound">A</a> <a id="725" href="Definition.Typed.Consequences.Reduction.html#725" class="Bound">Γ</a> <a id="727" href="Definition.Typed.Consequences.Reduction.html#727" class="Bound">l</a><a id="728" class="Symbol">}</a> <a id="730" class="Symbol">(</a><a id="731" href="Definition.Typed.Consequences.Reduction.html#731" class="Bound">[A]</a> <a id="735" class="Symbol">:</a> <a id="737" href="Definition.Typed.Consequences.Reduction.html#725" class="Bound">Γ</a> <a id="739" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⊩⟨</a> <a id="742" href="Definition.Typed.Consequences.Reduction.html#727" class="Bound">l</a> <a id="744" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="746" href="Definition.Typed.Consequences.Reduction.html#723" class="Bound">A</a><a id="747" class="Symbol">)</a>
                <a id="765" class="Symbol">→</a> <a id="767" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="769" class="Symbol">λ</a> <a id="771" href="Definition.Typed.Consequences.Reduction.html#771" class="Bound">B</a> <a id="773" class="Symbol">→</a> <a id="775" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="780" href="Definition.Typed.Consequences.Reduction.html#771" class="Bound">B</a> <a id="782" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="784" href="Definition.Typed.Consequences.Reduction.html#725" class="Bound">Γ</a> <a id="786" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">⊢</a> <a id="788" href="Definition.Typed.Consequences.Reduction.html#723" class="Bound">A</a> <a id="790" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">:⇒*:</a> <a id="795" href="Definition.Typed.Consequences.Reduction.html#771" class="Bound">B</a>
<a id="797" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="805" class="Symbol">(</a><a id="806" href="Definition.LogicalRelation.html#U%E2%80%B2" class="InductiveConstructor">U′</a> <a id="809" class="DottedPattern Symbol">.</a><a id="810" href="Definition.LogicalRelation.html#TypeLevel.%E2%81%B0" class="DottedPattern InductiveConstructor">⁰</a> <a id="812" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="816" href="Definition.Typed.Consequences.Reduction.html#816" class="Bound">⊢Γ</a><a id="818" class="Symbol">)</a> <a id="820" class="Symbol">=</a> <a id="822" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a> <a id="824" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="826" href="Definition.Untyped.html#Whnf.U" class="InductiveConstructor">U</a> <a id="828" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="830" href="Definition.Typed.Properties.html#idRed%3A%2A%3A" class="Function">idRed:*:</a> <a id="839" class="Symbol">(</a><a id="840" href="Definition.Typed.html#_%E2%8A%A2_.U" class="InductiveConstructor">U</a> <a id="842" href="Definition.Typed.Consequences.Reduction.html#816" class="Bound">⊢Γ</a><a id="844" class="Symbol">)</a>
<a id="846" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="854" class="Symbol">(</a><a id="855" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="857" href="Definition.Typed.Consequences.Reduction.html#857" class="Bound">D</a><a id="858" class="Symbol">)</a> <a id="860" class="Symbol">=</a> <a id="862" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="864" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="866" href="Definition.Untyped.html#Whnf.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="868" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="870" href="Definition.Typed.Consequences.Reduction.html#857" class="Bound">D</a>
<a id="872" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="880" class="Symbol">(</a><a id="881" href="Definition.LogicalRelation.html#ne%E2%80%B2" class="InductiveConstructor">ne′</a> <a id="885" href="Definition.Typed.Consequences.Reduction.html#885" class="Bound">K</a> <a id="887" href="Definition.Typed.Consequences.Reduction.html#887" class="Bound">D</a> <a id="889" href="Definition.Typed.Consequences.Reduction.html#889" class="Bound">neK</a> <a id="893" href="Definition.Typed.Consequences.Reduction.html#893" class="Bound">K≡K</a><a id="896" class="Symbol">)</a> <a id="898" class="Symbol">=</a> <a id="900" href="Definition.Typed.Consequences.Reduction.html#885" class="Bound">K</a> <a id="902" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="904" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="907" href="Definition.Typed.Consequences.Reduction.html#889" class="Bound">neK</a> <a id="911" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="913" href="Definition.Typed.Consequences.Reduction.html#887" class="Bound">D</a>
<a id="915" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="923" class="Symbol">(</a><a id="924" href="Definition.LogicalRelation.html#%CE%A0%E2%80%B2" class="InductiveConstructor">Π′</a> <a id="927" href="Definition.Typed.Consequences.Reduction.html#927" class="Bound">F</a> <a id="929" href="Definition.Typed.Consequences.Reduction.html#929" class="Bound">G</a> <a id="931" href="Definition.Typed.Consequences.Reduction.html#931" class="Bound">D</a> <a id="933" href="Definition.Typed.Consequences.Reduction.html#933" class="Bound">⊢F</a> <a id="936" href="Definition.Typed.Consequences.Reduction.html#936" class="Bound">⊢G</a> <a id="939" href="Definition.Typed.Consequences.Reduction.html#939" class="Bound">A≡A</a> <a id="943" href="Definition.Typed.Consequences.Reduction.html#943" class="Bound">[F]</a> <a id="947" href="Definition.Typed.Consequences.Reduction.html#947" class="Bound">[G]</a> <a id="951" href="Definition.Typed.Consequences.Reduction.html#951" class="Bound">G-ext</a><a id="956" class="Symbol">)</a> <a id="958" class="Symbol">=</a> <a id="960" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="962" href="Definition.Typed.Consequences.Reduction.html#927" class="Bound">F</a> <a id="964" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="966" href="Definition.Typed.Consequences.Reduction.html#929" class="Bound">G</a> <a id="968" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="970" href="Definition.Untyped.html#Whnf.%CE%A0" class="InductiveConstructor">Π</a> <a id="972" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="974" href="Definition.Typed.Consequences.Reduction.html#931" class="Bound">D</a>
<a id="976" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="984" class="Symbol">(</a><a id="985" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.emb" class="InductiveConstructor">emb</a> <a id="989" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="993" href="Definition.Typed.Consequences.Reduction.html#993" class="Bound">[A]</a><a id="996" class="Symbol">)</a> <a id="998" class="Symbol">=</a> <a id="1000" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="1008" href="Definition.Typed.Consequences.Reduction.html#993" class="Bound">[A]</a>

<a id="1013" class="Comment">-- Well-formed types can all be reduced to WHNF.</a>
<a id="whNorm" href="Definition.Typed.Consequences.Reduction.html#whNorm" class="Function">whNorm</a> <a id="1069" class="Symbol">:</a> <a id="1071" class="Symbol">∀</a> <a id="1073" class="Symbol">{</a><a id="1074" href="Definition.Typed.Consequences.Reduction.html#1074" class="Bound">A</a> <a id="1076" href="Definition.Typed.Consequences.Reduction.html#1076" class="Bound">Γ</a><a id="1077" class="Symbol">}</a> <a id="1079" class="Symbol">→</a> <a id="1081" href="Definition.Typed.Consequences.Reduction.html#1076" class="Bound">Γ</a> <a id="1083" href="Definition.Typed.html#_%E2%8A%A2_" class="Datatype Operator">⊢</a> <a id="1085" href="Definition.Typed.Consequences.Reduction.html#1074" class="Bound">A</a> <a id="1087" class="Symbol">→</a> <a id="1089" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="1091" class="Symbol">λ</a> <a id="1093" href="Definition.Typed.Consequences.Reduction.html#1093" class="Bound">B</a> <a id="1095" class="Symbol">→</a> <a id="1097" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="1102" href="Definition.Typed.Consequences.Reduction.html#1093" class="Bound">B</a> <a id="1104" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1106" href="Definition.Typed.Consequences.Reduction.html#1076" class="Bound">Γ</a> <a id="1108" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">⊢</a> <a id="1110" href="Definition.Typed.Consequences.Reduction.html#1074" class="Bound">A</a> <a id="1112" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">:⇒*:</a> <a id="1117" href="Definition.Typed.Consequences.Reduction.html#1093" class="Bound">B</a>
<a id="1119" href="Definition.Typed.Consequences.Reduction.html#whNorm" class="Function">whNorm</a> <a id="1126" href="Definition.Typed.Consequences.Reduction.html#1126" class="Bound">a</a> <a id="1128" class="Keyword">with</a> <a id="1133" href="Definition.LogicalRelation.Fundamental.html#fundamental" class="Function">fundamental</a> <a id="1145" href="Definition.Typed.Consequences.Reduction.html#1126" class="Bound">a</a>
<a id="1147" class="Symbol">...</a> <a id="1151" class="Symbol">|</a> <a id="1153" href="Definition.Typed.Consequences.Reduction.html#1153" class="Bound">[Γ]</a> <a id="1157" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1159" href="Definition.Typed.Consequences.Reduction.html#1159" class="Bound">[A]</a> <a id="1163" class="Symbol">=</a> <a id="1165" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="1173" class="Symbol">(</a><a id="1174" href="Definition.LogicalRelation.Substitution.Reducibility.html#reducible" class="Function">reducible</a> <a id="1184" href="Definition.Typed.Consequences.Reduction.html#1153" class="Bound">[Γ]</a> <a id="1188" href="Definition.Typed.Consequences.Reduction.html#1159" class="Bound">[A]</a><a id="1191" class="Symbol">)</a>

<a id="1194" class="Comment">-- Helper function where reducible all terms can be reduced to WHNF.</a>
<a id="whNormTerm′" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1275" class="Symbol">:</a> <a id="1277" class="Symbol">∀</a> <a id="1279" class="Symbol">{</a><a id="1280" href="Definition.Typed.Consequences.Reduction.html#1280" class="Bound">a</a> <a id="1282" href="Definition.Typed.Consequences.Reduction.html#1282" class="Bound">A</a> <a id="1284" href="Definition.Typed.Consequences.Reduction.html#1284" class="Bound">Γ</a> <a id="1286" href="Definition.Typed.Consequences.Reduction.html#1286" class="Bound">l</a><a id="1287" class="Symbol">}</a> <a id="1289" class="Symbol">(</a><a id="1290" href="Definition.Typed.Consequences.Reduction.html#1290" class="Bound">[A]</a> <a id="1294" class="Symbol">:</a> <a id="1296" href="Definition.Typed.Consequences.Reduction.html#1284" class="Bound">Γ</a> <a id="1298" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⊩⟨</a> <a id="1301" href="Definition.Typed.Consequences.Reduction.html#1286" class="Bound">l</a> <a id="1303" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="1305" href="Definition.Typed.Consequences.Reduction.html#1282" class="Bound">A</a><a id="1306" class="Symbol">)</a> <a id="1308" class="Symbol">→</a> <a id="1310" href="Definition.Typed.Consequences.Reduction.html#1284" class="Bound">Γ</a> <a id="1312" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">⊩⟨</a> <a id="1315" href="Definition.Typed.Consequences.Reduction.html#1286" class="Bound">l</a> <a id="1317" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">⟩</a> <a id="1319" href="Definition.Typed.Consequences.Reduction.html#1280" class="Bound">a</a> <a id="1321" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">∷</a> <a id="1323" href="Definition.Typed.Consequences.Reduction.html#1282" class="Bound">A</a> <a id="1325" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">/</a> <a id="1327" href="Definition.Typed.Consequences.Reduction.html#1290" class="Bound">[A]</a>
                <a id="1347" class="Symbol">→</a> <a id="1349" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="1351" class="Symbol">λ</a> <a id="1353" href="Definition.Typed.Consequences.Reduction.html#1353" class="Bound">b</a> <a id="1355" class="Symbol">→</a> <a id="1357" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="1362" href="Definition.Typed.Consequences.Reduction.html#1353" class="Bound">b</a> <a id="1364" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1366" href="Definition.Typed.Consequences.Reduction.html#1284" class="Bound">Γ</a> <a id="1368" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">⊢</a> <a id="1370" href="Definition.Typed.Consequences.Reduction.html#1280" class="Bound">a</a> <a id="1372" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">:⇒*:</a> <a id="1377" href="Definition.Typed.Consequences.Reduction.html#1353" class="Bound">b</a> <a id="1379" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">∷</a> <a id="1381" href="Definition.Typed.Consequences.Reduction.html#1282" class="Bound">A</a>
<a id="1383" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1395" class="Symbol">(</a><a id="1396" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.U" class="InductiveConstructor">U</a> <a id="1398" href="Definition.Typed.Consequences.Reduction.html#1398" class="Bound">x</a><a id="1399" class="Symbol">)</a> <a id="1401" class="Symbol">(</a><a id="1402" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9U_%E2%88%B7U%2F_.U%E2%82%9C" class="InductiveConstructor">Uₜ</a> <a id="1405" href="Definition.Typed.Consequences.Reduction.html#1405" class="Bound">A</a> <a id="1407" href="Definition.Typed.Consequences.Reduction.html#1407" class="Bound">d</a> <a id="1409" href="Definition.Typed.Consequences.Reduction.html#1409" class="Bound">typeA</a> <a id="1415" href="Definition.Typed.Consequences.Reduction.html#1415" class="Bound">A≡A</a> <a id="1419" href="Definition.Typed.Consequences.Reduction.html#1419" class="Bound">[t]</a><a id="1422" class="Symbol">)</a> <a id="1424" class="Symbol">=</a> <a id="1426" href="Definition.Typed.Consequences.Reduction.html#1405" class="Bound">A</a> <a id="1428" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1430" href="Definition.Untyped.html#typeWhnf" class="Function">typeWhnf</a> <a id="1439" href="Definition.Typed.Consequences.Reduction.html#1409" class="Bound">typeA</a> <a id="1445" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1447" href="Definition.Typed.Consequences.Reduction.html#1407" class="Bound">d</a>
<a id="1449" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1461" class="Symbol">(</a><a id="1462" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="1464" href="Definition.Typed.Consequences.Reduction.html#1464" class="Bound">x</a><a id="1465" class="Symbol">)</a> <a id="1467" class="Symbol">(</a><a id="1468" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%84%95_%E2%88%B7%E2%84%95.%E2%84%95%E2%82%9C" class="InductiveConstructor">ℕₜ</a> <a id="1471" href="Definition.Typed.Consequences.Reduction.html#1471" class="Bound">n</a> <a id="1473" href="Definition.Typed.Consequences.Reduction.html#1473" class="Bound">d</a> <a id="1475" href="Definition.Typed.Consequences.Reduction.html#1475" class="Bound">n≡n</a> <a id="1479" href="Definition.Typed.Consequences.Reduction.html#1479" class="Bound">prop</a><a id="1483" class="Symbol">)</a> <a id="1485" class="Symbol">=</a>
  <a id="1489" class="Keyword">let</a> <a id="1493" href="Definition.Typed.Consequences.Reduction.html#1493" class="Bound">natN</a> <a id="1498" class="Symbol">=</a> <a id="1500" href="Definition.LogicalRelation.html#natural" class="Function">natural</a> <a id="1508" href="Definition.Typed.Consequences.Reduction.html#1479" class="Bound">prop</a>
  <a id="1515" class="Keyword">in</a>  <a id="1519" href="Definition.Typed.Consequences.Reduction.html#1471" class="Bound">n</a> <a id="1521" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1523" href="Definition.Untyped.html#naturalWhnf" class="Function">naturalWhnf</a> <a id="1535" href="Definition.Typed.Consequences.Reduction.html#1493" class="Bound">natN</a> <a id="1540" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1542" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1553" href="Definition.Typed.Consequences.Reduction.html#1473" class="Bound">d</a> <a id="1555" class="Symbol">(</a><a id="1556" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1560" class="Symbol">(</a><a id="1561" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1569" class="Symbol">(</a><a id="1570" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1574" href="Definition.Typed.Consequences.Reduction.html#1464" class="Bound">x</a><a id="1575" class="Symbol">)))</a>
<a id="1579" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1591" class="Symbol">(</a><a id="1592" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.ne" class="InductiveConstructor">ne</a> <a id="1595" class="Symbol">(</a><a id="1596" href="Definition.LogicalRelation.html#_%E2%8A%A9ne_.ne" class="InductiveConstructor">ne</a> <a id="1599" href="Definition.Typed.Consequences.Reduction.html#1599" class="Bound">K</a> <a id="1601" href="Definition.Typed.Consequences.Reduction.html#1601" class="Bound">D</a> <a id="1603" href="Definition.Typed.Consequences.Reduction.html#1603" class="Bound">neK</a> <a id="1607" href="Definition.Typed.Consequences.Reduction.html#1607" class="Bound">K≡K</a><a id="1610" class="Symbol">))</a> <a id="1613" class="Symbol">(</a><a id="1614" href="Definition.LogicalRelation.html#_%E2%8A%A9ne_%E2%88%B7_%2F_.ne%E2%82%9C" class="InductiveConstructor">neₜ</a> <a id="1618" href="Definition.Typed.Consequences.Reduction.html#1618" class="Bound">k</a> <a id="1620" href="Definition.Typed.Consequences.Reduction.html#1620" class="Bound">d</a> <a id="1622" class="Symbol">(</a><a id="1623" href="Definition.LogicalRelation.html#_%E2%8A%A9neNf_%E2%88%B7_.neNf%E2%82%9C" class="InductiveConstructor">neNfₜ</a> <a id="1629" href="Definition.Typed.Consequences.Reduction.html#1629" class="Bound">neK₁</a> <a id="1634" href="Definition.Typed.Consequences.Reduction.html#1634" class="Bound">⊢k</a> <a id="1637" href="Definition.Typed.Consequences.Reduction.html#1637" class="Bound">k≡k</a><a id="1640" class="Symbol">))</a> <a id="1643" class="Symbol">=</a>
  <a id="1647" href="Definition.Typed.Consequences.Reduction.html#1618" class="Bound">k</a> <a id="1649" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1651" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="1654" href="Definition.Typed.Consequences.Reduction.html#1629" class="Bound">neK₁</a> <a id="1659" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1661" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1672" href="Definition.Typed.Consequences.Reduction.html#1620" class="Bound">d</a> <a id="1674" class="Symbol">(</a><a id="1675" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1679" class="Symbol">(</a><a id="1680" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1688" class="Symbol">(</a><a id="1689" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1693" href="Definition.Typed.Consequences.Reduction.html#1601" class="Bound">D</a><a id="1694" class="Symbol">)))</a>
<a id="1698" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1710" class="Symbol">(</a><a id="1711" href="Definition.LogicalRelation.html#%CE%A0%E2%80%B2" class="InductiveConstructor">Π′</a> <a id="1714" href="Definition.Typed.Consequences.Reduction.html#1714" class="Bound">F</a> <a id="1716" href="Definition.Typed.Consequences.Reduction.html#1716" class="Bound">G</a> <a id="1718" href="Definition.Typed.Consequences.Reduction.html#1718" class="Bound">D</a> <a id="1720" href="Definition.Typed.Consequences.Reduction.html#1720" class="Bound">⊢F</a> <a id="1723" href="Definition.Typed.Consequences.Reduction.html#1723" class="Bound">⊢G</a> <a id="1726" href="Definition.Typed.Consequences.Reduction.html#1726" class="Bound">A≡A</a> <a id="1730" href="Definition.Typed.Consequences.Reduction.html#1730" class="Bound">[F]</a> <a id="1734" href="Definition.Typed.Consequences.Reduction.html#1734" class="Bound">[G]</a> <a id="1738" href="Definition.Typed.Consequences.Reduction.html#1738" class="Bound">G-ext</a><a id="1743" class="Symbol">)</a> <a id="1745" class="Symbol">(</a><a id="1746" href="Definition.LogicalRelation.html#%CE%A0%E2%82%9C" class="InductiveConstructor">Πₜ</a> <a id="1749" href="Definition.Typed.Consequences.Reduction.html#1749" class="Bound">f</a> <a id="1751" href="Definition.Typed.Consequences.Reduction.html#1751" class="Bound">d</a> <a id="1753" href="Definition.Typed.Consequences.Reduction.html#1753" class="Bound">funcF</a> <a id="1759" href="Definition.Typed.Consequences.Reduction.html#1759" class="Bound">f≡f</a> <a id="1763" href="Definition.Typed.Consequences.Reduction.html#1763" class="Bound">[f]</a> <a id="1767" href="Definition.Typed.Consequences.Reduction.html#1767" class="Bound">[f]₁</a><a id="1771" class="Symbol">)</a> <a id="1773" class="Symbol">=</a>
  <a id="1777" href="Definition.Typed.Consequences.Reduction.html#1749" class="Bound">f</a> <a id="1779" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1781" href="Definition.Untyped.html#functionWhnf" class="Function">functionWhnf</a> <a id="1794" href="Definition.Typed.Consequences.Reduction.html#1753" class="Bound">funcF</a> <a id="1800" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1802" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1813" href="Definition.Typed.Consequences.Reduction.html#1751" class="Bound">d</a> <a id="1815" class="Symbol">(</a><a id="1816" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1820" class="Symbol">(</a><a id="1821" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1829" class="Symbol">(</a><a id="1830" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1834" href="Definition.Typed.Consequences.Reduction.html#1718" class="Bound">D</a><a id="1835" class="Symbol">)))</a>
<a id="1839" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1851" class="Symbol">(</a><a id="1852" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.emb" class="InductiveConstructor">emb</a> <a id="1856" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="1860" href="Definition.Typed.Consequences.Reduction.html#1860" class="Bound">[A]</a><a id="1863" class="Symbol">)</a> <a id="1865" href="Definition.Typed.Consequences.Reduction.html#1865" class="Bound">[a]</a> <a id="1869" class="Symbol">=</a> <a id="1871" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1883" href="Definition.Typed.Consequences.Reduction.html#1860" class="Bound">[A]</a> <a id="1887" href="Definition.Typed.Consequences.Reduction.html#1865" class="Bound">[a]</a>

<a id="1892" class="Comment">-- Well-formed terms can all be reduced to WHNF.</a>
<a id="whNormTerm" href="Definition.Typed.Consequences.Reduction.html#whNormTerm" class="Function">whNormTerm</a> <a id="1952" class="Symbol">:</a> <a id="1954" class="Symbol">∀</a> <a id="1956" class="Symbol">{</a><a id="1957" href="Definition.Typed.Consequences.Reduction.html#1957" class="Bound">a</a> <a id="1959" href="Definition.Typed.Consequences.Reduction.html#1959" class="Bound">A</a> <a id="1961" href="Definition.Typed.Consequences.Reduction.html#1961" class="Bound">Γ</a><a id="1962" class="Symbol">}</a> <a id="1964" class="Symbol">→</a> <a id="1966" href="Definition.Typed.Consequences.Reduction.html#1961" class="Bound">Γ</a> <a id="1968" href="Definition.Typed.html#_%E2%8A%A2_%E2%88%B7_" class="Datatype Operator">⊢</a> <a id="1970" href="Definition.Typed.Consequences.Reduction.html#1957" class="Bound">a</a> <a id="1972" href="Definition.Typed.html#_%E2%8A%A2_%E2%88%B7_" class="Datatype Operator">∷</a> <a id="1974" href="Definition.Typed.Consequences.Reduction.html#1959" class="Bound">A</a> <a id="1976" class="Symbol">→</a> <a id="1978" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="1980" class="Symbol">λ</a> <a id="1982" href="Definition.Typed.Consequences.Reduction.html#1982" class="Bound">b</a> <a id="1984" class="Symbol">→</a> <a id="1986" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="1991" href="Definition.Typed.Consequences.Reduction.html#1982" class="Bound">b</a> <a id="1993" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1995" href="Definition.Typed.Consequences.Reduction.html#1961" class="Bound">Γ</a> <a id="1997" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">⊢</a> <a id="1999" href="Definition.Typed.Consequences.Reduction.html#1957" class="Bound">a</a> <a id="2001" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">:⇒*:</a> <a id="2006" href="Definition.Typed.Consequences.Reduction.html#1982" class="Bound">b</a> <a id="2008" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">∷</a> <a id="2010" href="Definition.Typed.Consequences.Reduction.html#1959" class="Bound">A</a>
<a id="2012" href="Definition.Typed.Consequences.Reduction.html#whNormTerm" class="Function">whNormTerm</a> <a id="2023" class="Symbol">{</a><a id="2024" href="Definition.Typed.Consequences.Reduction.html#2024" class="Bound">a</a><a id="2025" class="Symbol">}</a> <a id="2027" class="Symbol">{</a><a id="2028" href="Definition.Typed.Consequences.Reduction.html#2028" class="Bound">A</a><a id="2029" class="Symbol">}</a> <a id="2031" href="Definition.Typed.Consequences.Reduction.html#2031" class="Bound">⊢a</a> <a id="2034" class="Keyword">with</a> <a id="2039" href="Definition.LogicalRelation.Fundamental.html#fundamentalTerm" class="Function">fundamentalTerm</a> <a id="2055" href="Definition.Typed.Consequences.Reduction.html#2031" class="Bound">⊢a</a>
<a id="2058" class="Symbol">...</a> <a id="2062" class="Symbol">|</a> <a id="2064" href="Definition.Typed.Consequences.Reduction.html#2064" class="Bound">[Γ]</a> <a id="2068" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2070" href="Definition.Typed.Consequences.Reduction.html#2070" class="Bound">[A]</a> <a id="2074" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2076" href="Definition.Typed.Consequences.Reduction.html#2076" class="Bound">[a]</a> <a id="2080" class="Symbol">=</a>
  <a id="2084" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="2096" class="Symbol">(</a><a id="2097" href="Definition.LogicalRelation.Substitution.Reducibility.html#reducible" class="Function">reducible</a> <a id="2107" href="Definition.Typed.Consequences.Reduction.html#2064" class="Bound">[Γ]</a> <a id="2111" href="Definition.Typed.Consequences.Reduction.html#2070" class="Bound">[A]</a><a id="2114" class="Symbol">)</a> <a id="2116" class="Symbol">(</a><a id="2117" href="Definition.LogicalRelation.Substitution.Reducibility.html#reducibleTerm" class="Function">reducibleTerm</a> <a id="2131" class="Symbol">{</a><a id="2132" class="Bound">a</a><a id="2133" class="Symbol">}</a> <a id="2135" class="Symbol">{</a><a id="2136" class="Bound">A</a><a id="2137" class="Symbol">}</a> <a id="2139" href="Definition.Typed.Consequences.Reduction.html#2064" class="Bound">[Γ]</a> <a id="2143" href="Definition.Typed.Consequences.Reduction.html#2070" class="Bound">[A]</a> <a id="2147" href="Definition.Typed.Consequences.Reduction.html#2076" class="Bound">[a]</a><a id="2150" class="Symbol">)</a>
</pre></body></html>