<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Typed.Consequences.Reduction</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--without-K</a> <a id="25" class="Symbol">#-}</a>

<a id="30" class="Keyword">module</a> <a id="37" href="Definition.Typed.Consequences.Reduction.html" class="Module">Definition.Typed.Consequences.Reduction</a> <a id="77" class="Keyword">where</a>

<a id="84" class="Keyword">open</a> <a id="89" class="Keyword">import</a> <a id="96" href="Definition.Untyped.html" class="Module">Definition.Untyped</a>
<a id="115" class="Keyword">open</a> <a id="120" class="Keyword">import</a> <a id="127" href="Definition.Untyped.Properties.html" class="Module">Definition.Untyped.Properties</a>
<a id="157" class="Keyword">open</a> <a id="162" class="Keyword">import</a> <a id="169" href="Definition.Typed.html" class="Module">Definition.Typed</a>
<a id="186" class="Keyword">open</a> <a id="191" class="Keyword">import</a> <a id="198" href="Definition.Typed.RedSteps.html" class="Module">Definition.Typed.RedSteps</a>
<a id="224" class="Keyword">open</a> <a id="229" class="Keyword">import</a> <a id="236" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a>
<a id="264" class="Keyword">open</a> <a id="269" class="Keyword">import</a> <a id="276" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a>
<a id="307" class="Keyword">open</a> <a id="312" class="Keyword">import</a> <a id="319" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a>
<a id="346" class="Keyword">open</a> <a id="351" class="Keyword">import</a> <a id="358" href="Definition.LogicalRelation.Properties.html" class="Module">Definition.LogicalRelation.Properties</a>
<a id="396" class="Keyword">open</a> <a id="401" class="Keyword">import</a> <a id="408" href="Definition.LogicalRelation.Substitution.html" class="Module">Definition.LogicalRelation.Substitution</a>
<a id="448" class="Keyword">open</a> <a id="453" class="Keyword">import</a> <a id="460" href="Definition.LogicalRelation.Substitution.Soundness.html" class="Module">Definition.LogicalRelation.Substitution.Soundness</a>
<a id="510" class="Keyword">open</a> <a id="515" class="Keyword">import</a> <a id="522" href="Definition.LogicalRelation.Fundamental.html" class="Module">Definition.LogicalRelation.Fundamental</a>

<a id="562" class="Keyword">open</a> <a id="567" class="Keyword">import</a> <a id="574" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="588" class="Keyword">import</a> <a id="595" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="623" class="Symbol">as</a> <a id="626" class="Module">PE</a>


<a id="631" class="Comment">-- Helper function where all sound types can be reduced to WHNF.</a>
<a id="fullyReducible′" href="Definition.Typed.Consequences.Reduction.html#fullyReducible%E2%80%B2" class="Function">fullyReducible′</a> <a id="712" class="Symbol">:</a> <a id="714" class="Symbol">∀</a> <a id="716" class="Symbol">{</a><a id="717" href="Definition.Typed.Consequences.Reduction.html#717" class="Bound">A</a> <a id="719" href="Definition.Typed.Consequences.Reduction.html#719" class="Bound">Γ</a> <a id="721" href="Definition.Typed.Consequences.Reduction.html#721" class="Bound">l</a><a id="722" class="Symbol">}</a> <a id="724" class="Symbol">(</a><a id="725" href="Definition.Typed.Consequences.Reduction.html#725" class="Bound">[A]</a> <a id="729" class="Symbol">:</a> <a id="731" href="Definition.Typed.Consequences.Reduction.html#719" class="Bound">Γ</a> <a id="733" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⊩⟨</a> <a id="736" href="Definition.Typed.Consequences.Reduction.html#721" class="Bound">l</a> <a id="738" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="740" href="Definition.Typed.Consequences.Reduction.html#717" class="Bound">A</a><a id="741" class="Symbol">)</a>
                <a id="759" class="Symbol">→</a> <a id="761" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="763" class="Symbol">λ</a> <a id="765" href="Definition.Typed.Consequences.Reduction.html#765" class="Bound">B</a> <a id="767" class="Symbol">→</a> <a id="769" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="774" href="Definition.Typed.Consequences.Reduction.html#765" class="Bound">B</a> <a id="776" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="778" href="Definition.Typed.Consequences.Reduction.html#719" class="Bound">Γ</a> <a id="780" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">⊢</a> <a id="782" href="Definition.Typed.Consequences.Reduction.html#717" class="Bound">A</a> <a id="784" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">:⇒*:</a> <a id="789" href="Definition.Typed.Consequences.Reduction.html#765" class="Bound">B</a>
<a id="791" href="Definition.Typed.Consequences.Reduction.html#fullyReducible%E2%80%B2" class="Function">fullyReducible′</a> <a id="807" class="Symbol">(</a><a id="808" href="Definition.LogicalRelation.html#U%E2%80%B2" class="InductiveConstructor">U′</a> <a id="811" class="DottedPattern Symbol">.</a><a id="812" href="Definition.LogicalRelation.html#TypeLevel.%E2%81%B0" class="DottedPattern InductiveConstructor">⁰</a> <a id="814" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="818" href="Definition.Typed.Consequences.Reduction.html#818" class="Bound">⊢Γ</a><a id="820" class="Symbol">)</a> <a id="822" class="Symbol">=</a> <a id="824" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a> <a id="826" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="828" href="Definition.Untyped.html#Whnf.U" class="InductiveConstructor">U</a> <a id="830" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="832" href="Definition.Typed.Properties.html#idRed%3A%2A%3A" class="Function">idRed:*:</a> <a id="841" class="Symbol">(</a><a id="842" href="Definition.Typed.html#_%E2%8A%A2_.U" class="InductiveConstructor">U</a> <a id="844" href="Definition.Typed.Consequences.Reduction.html#818" class="Bound">⊢Γ</a><a id="846" class="Symbol">)</a>
<a id="848" href="Definition.Typed.Consequences.Reduction.html#fullyReducible%E2%80%B2" class="Function">fullyReducible′</a> <a id="864" class="Symbol">(</a><a id="865" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="867" href="Definition.Typed.Consequences.Reduction.html#867" class="Bound">D</a><a id="868" class="Symbol">)</a> <a id="870" class="Symbol">=</a> <a id="872" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="874" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="876" href="Definition.Untyped.html#Whnf.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="878" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="880" href="Definition.Typed.Consequences.Reduction.html#867" class="Bound">D</a>
<a id="882" href="Definition.Typed.Consequences.Reduction.html#fullyReducible%E2%80%B2" class="Function">fullyReducible′</a> <a id="898" class="Symbol">(</a><a id="899" href="Definition.LogicalRelation.html#ne%E2%80%B2" class="InductiveConstructor">ne′</a> <a id="903" href="Definition.Typed.Consequences.Reduction.html#903" class="Bound">K</a> <a id="905" href="Definition.Typed.Consequences.Reduction.html#905" class="Bound">D</a> <a id="907" href="Definition.Typed.Consequences.Reduction.html#907" class="Bound">neK</a> <a id="911" href="Definition.Typed.Consequences.Reduction.html#911" class="Bound">K≡K</a><a id="914" class="Symbol">)</a> <a id="916" class="Symbol">=</a> <a id="918" href="Definition.Typed.Consequences.Reduction.html#903" class="Bound">K</a> <a id="920" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="922" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="925" href="Definition.Typed.Consequences.Reduction.html#907" class="Bound">neK</a> <a id="929" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="931" href="Definition.Typed.Consequences.Reduction.html#905" class="Bound">D</a>
<a id="933" href="Definition.Typed.Consequences.Reduction.html#fullyReducible%E2%80%B2" class="Function">fullyReducible′</a> <a id="949" class="Symbol">(</a><a id="950" href="Definition.LogicalRelation.html#%CE%A0%E2%80%B2" class="InductiveConstructor">Π′</a> <a id="953" href="Definition.Typed.Consequences.Reduction.html#953" class="Bound">F</a> <a id="955" href="Definition.Typed.Consequences.Reduction.html#955" class="Bound">G</a> <a id="957" href="Definition.Typed.Consequences.Reduction.html#957" class="Bound">D</a> <a id="959" href="Definition.Typed.Consequences.Reduction.html#959" class="Bound">⊢F</a> <a id="962" href="Definition.Typed.Consequences.Reduction.html#962" class="Bound">⊢G</a> <a id="965" href="Definition.Typed.Consequences.Reduction.html#965" class="Bound">A≡A</a> <a id="969" href="Definition.Typed.Consequences.Reduction.html#969" class="Bound">[F]</a> <a id="973" href="Definition.Typed.Consequences.Reduction.html#973" class="Bound">[G]</a> <a id="977" href="Definition.Typed.Consequences.Reduction.html#977" class="Bound">G-ext</a><a id="982" class="Symbol">)</a> <a id="984" class="Symbol">=</a> <a id="986" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="988" href="Definition.Typed.Consequences.Reduction.html#953" class="Bound">F</a> <a id="990" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="992" href="Definition.Typed.Consequences.Reduction.html#955" class="Bound">G</a> <a id="994" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="996" href="Definition.Untyped.html#Whnf.%CE%A0" class="InductiveConstructor">Π</a> <a id="998" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1000" href="Definition.Typed.Consequences.Reduction.html#957" class="Bound">D</a>
<a id="1002" href="Definition.Typed.Consequences.Reduction.html#fullyReducible%E2%80%B2" class="Function">fullyReducible′</a> <a id="1018" class="Symbol">(</a><a id="1019" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.emb" class="InductiveConstructor">emb</a> <a id="1023" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="1027" href="Definition.Typed.Consequences.Reduction.html#1027" class="Bound">[A]</a><a id="1030" class="Symbol">)</a> <a id="1032" class="Symbol">=</a> <a id="1034" href="Definition.Typed.Consequences.Reduction.html#fullyReducible%E2%80%B2" class="Function">fullyReducible′</a> <a id="1050" href="Definition.Typed.Consequences.Reduction.html#1027" class="Bound">[A]</a>

<a id="1055" class="Comment">-- Well-formed types can all be reduced to WHNF.</a>
<a id="fullyReducible" href="Definition.Typed.Consequences.Reduction.html#fullyReducible" class="Function">fullyReducible</a> <a id="1119" class="Symbol">:</a> <a id="1121" class="Symbol">∀</a> <a id="1123" class="Symbol">{</a><a id="1124" href="Definition.Typed.Consequences.Reduction.html#1124" class="Bound">A</a> <a id="1126" href="Definition.Typed.Consequences.Reduction.html#1126" class="Bound">Γ</a><a id="1127" class="Symbol">}</a> <a id="1129" class="Symbol">→</a> <a id="1131" href="Definition.Typed.Consequences.Reduction.html#1126" class="Bound">Γ</a> <a id="1133" href="Definition.Typed.html#_%E2%8A%A2_" class="Datatype Operator">⊢</a> <a id="1135" href="Definition.Typed.Consequences.Reduction.html#1124" class="Bound">A</a> <a id="1137" class="Symbol">→</a> <a id="1139" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="1141" class="Symbol">λ</a> <a id="1143" href="Definition.Typed.Consequences.Reduction.html#1143" class="Bound">B</a> <a id="1145" class="Symbol">→</a> <a id="1147" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="1152" href="Definition.Typed.Consequences.Reduction.html#1143" class="Bound">B</a> <a id="1154" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1156" href="Definition.Typed.Consequences.Reduction.html#1126" class="Bound">Γ</a> <a id="1158" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">⊢</a> <a id="1160" href="Definition.Typed.Consequences.Reduction.html#1124" class="Bound">A</a> <a id="1162" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">:⇒*:</a> <a id="1167" href="Definition.Typed.Consequences.Reduction.html#1143" class="Bound">B</a>
<a id="1169" href="Definition.Typed.Consequences.Reduction.html#fullyReducible" class="Function">fullyReducible</a> <a id="1184" href="Definition.Typed.Consequences.Reduction.html#1184" class="Bound">a</a> <a id="1186" class="Keyword">with</a> <a id="1191" href="Definition.LogicalRelation.Fundamental.html#fundamental" class="Function">fundamental</a> <a id="1203" href="Definition.Typed.Consequences.Reduction.html#1184" class="Bound">a</a>
<a id="1205" class="Symbol">...</a> <a id="1209" class="Symbol">|</a> <a id="1211" href="Definition.Typed.Consequences.Reduction.html#1211" class="Bound">[Γ]</a> <a id="1215" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1217" href="Definition.Typed.Consequences.Reduction.html#1217" class="Bound">[A]</a> <a id="1221" class="Symbol">=</a> <a id="1223" href="Definition.Typed.Consequences.Reduction.html#fullyReducible%E2%80%B2" class="Function">fullyReducible′</a> <a id="1239" class="Symbol">(</a><a id="1240" href="Definition.LogicalRelation.Substitution.Soundness.html#soundness" class="Function">soundness</a> <a id="1250" href="Definition.Typed.Consequences.Reduction.html#1211" class="Bound">[Γ]</a> <a id="1254" href="Definition.Typed.Consequences.Reduction.html#1217" class="Bound">[A]</a><a id="1257" class="Symbol">)</a>

<a id="1260" class="Comment">-- Helper function where sound all terms can be reduced to WHNF.</a>
<a id="fullyReducibleTerm′" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm%E2%80%B2" class="Function">fullyReducibleTerm′</a> <a id="1345" class="Symbol">:</a> <a id="1347" class="Symbol">∀</a> <a id="1349" class="Symbol">{</a><a id="1350" href="Definition.Typed.Consequences.Reduction.html#1350" class="Bound">a</a> <a id="1352" href="Definition.Typed.Consequences.Reduction.html#1352" class="Bound">A</a> <a id="1354" href="Definition.Typed.Consequences.Reduction.html#1354" class="Bound">Γ</a> <a id="1356" href="Definition.Typed.Consequences.Reduction.html#1356" class="Bound">l</a><a id="1357" class="Symbol">}</a> <a id="1359" class="Symbol">(</a><a id="1360" href="Definition.Typed.Consequences.Reduction.html#1360" class="Bound">[A]</a> <a id="1364" class="Symbol">:</a> <a id="1366" href="Definition.Typed.Consequences.Reduction.html#1354" class="Bound">Γ</a> <a id="1368" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⊩⟨</a> <a id="1371" href="Definition.Typed.Consequences.Reduction.html#1356" class="Bound">l</a> <a id="1373" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="1375" href="Definition.Typed.Consequences.Reduction.html#1352" class="Bound">A</a><a id="1376" class="Symbol">)</a> <a id="1378" class="Symbol">→</a> <a id="1380" href="Definition.Typed.Consequences.Reduction.html#1354" class="Bound">Γ</a> <a id="1382" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">⊩⟨</a> <a id="1385" href="Definition.Typed.Consequences.Reduction.html#1356" class="Bound">l</a> <a id="1387" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">⟩</a> <a id="1389" href="Definition.Typed.Consequences.Reduction.html#1350" class="Bound">a</a> <a id="1391" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">∷</a> <a id="1393" href="Definition.Typed.Consequences.Reduction.html#1352" class="Bound">A</a> <a id="1395" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">/</a> <a id="1397" href="Definition.Typed.Consequences.Reduction.html#1360" class="Bound">[A]</a>
                <a id="1417" class="Symbol">→</a> <a id="1419" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="1421" class="Symbol">λ</a> <a id="1423" href="Definition.Typed.Consequences.Reduction.html#1423" class="Bound">b</a> <a id="1425" class="Symbol">→</a> <a id="1427" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="1432" href="Definition.Typed.Consequences.Reduction.html#1423" class="Bound">b</a> <a id="1434" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1436" href="Definition.Typed.Consequences.Reduction.html#1354" class="Bound">Γ</a> <a id="1438" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">⊢</a> <a id="1440" href="Definition.Typed.Consequences.Reduction.html#1350" class="Bound">a</a> <a id="1442" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">:⇒*:</a> <a id="1447" href="Definition.Typed.Consequences.Reduction.html#1423" class="Bound">b</a> <a id="1449" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">∷</a> <a id="1451" href="Definition.Typed.Consequences.Reduction.html#1352" class="Bound">A</a>
<a id="1453" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm%E2%80%B2" class="Function">fullyReducibleTerm′</a> <a id="1473" class="Symbol">(</a><a id="1474" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.U" class="InductiveConstructor">U</a> <a id="1476" href="Definition.Typed.Consequences.Reduction.html#1476" class="Bound">x</a><a id="1477" class="Symbol">)</a> <a id="1479" class="Symbol">(</a><a id="1480" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9U_%E2%88%B7U%2F_.U%E2%82%9C" class="InductiveConstructor">Uₜ</a> <a id="1483" href="Definition.Typed.Consequences.Reduction.html#1483" class="Bound">A</a> <a id="1485" href="Definition.Typed.Consequences.Reduction.html#1485" class="Bound">d</a> <a id="1487" href="Definition.Typed.Consequences.Reduction.html#1487" class="Bound">typeA</a> <a id="1493" href="Definition.Typed.Consequences.Reduction.html#1493" class="Bound">A≡A</a> <a id="1497" href="Definition.Typed.Consequences.Reduction.html#1497" class="Bound">[t]</a><a id="1500" class="Symbol">)</a> <a id="1502" class="Symbol">=</a> <a id="1504" href="Definition.Typed.Consequences.Reduction.html#1483" class="Bound">A</a> <a id="1506" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1508" href="Definition.Untyped.html#typeWhnf" class="Function">typeWhnf</a> <a id="1517" href="Definition.Typed.Consequences.Reduction.html#1487" class="Bound">typeA</a> <a id="1523" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1525" href="Definition.Typed.Consequences.Reduction.html#1485" class="Bound">d</a>
<a id="1527" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm%E2%80%B2" class="Function">fullyReducibleTerm′</a> <a id="1547" class="Symbol">(</a><a id="1548" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="1550" href="Definition.Typed.Consequences.Reduction.html#1550" class="Bound">x</a><a id="1551" class="Symbol">)</a> <a id="1553" class="Symbol">(</a><a id="1554" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%84%95_%E2%88%B7%E2%84%95.%E2%84%95%E2%82%9C" class="InductiveConstructor">ℕₜ</a> <a id="1557" href="Definition.Typed.Consequences.Reduction.html#1557" class="Bound">n</a> <a id="1559" href="Definition.Typed.Consequences.Reduction.html#1559" class="Bound">d</a> <a id="1561" href="Definition.Typed.Consequences.Reduction.html#1561" class="Bound">n≡n</a> <a id="1565" href="Definition.Typed.Consequences.Reduction.html#1565" class="Bound">prop</a><a id="1569" class="Symbol">)</a> <a id="1571" class="Symbol">=</a>
  <a id="1575" class="Keyword">let</a> <a id="1579" href="Definition.Typed.Consequences.Reduction.html#1579" class="Bound">natN</a> <a id="1584" class="Symbol">=</a> <a id="1586" href="Definition.LogicalRelation.html#natural" class="Function">natural</a> <a id="1594" href="Definition.Typed.Consequences.Reduction.html#1565" class="Bound">prop</a>
  <a id="1601" class="Keyword">in</a>  <a id="1605" href="Definition.Typed.Consequences.Reduction.html#1557" class="Bound">n</a> <a id="1607" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1609" href="Definition.Untyped.html#naturalWhnf" class="Function">naturalWhnf</a> <a id="1621" href="Definition.Typed.Consequences.Reduction.html#1579" class="Bound">natN</a> <a id="1626" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1628" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1639" href="Definition.Typed.Consequences.Reduction.html#1559" class="Bound">d</a> <a id="1641" class="Symbol">(</a><a id="1642" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1646" class="Symbol">(</a><a id="1647" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1655" class="Symbol">(</a><a id="1656" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1660" href="Definition.Typed.Consequences.Reduction.html#1550" class="Bound">x</a><a id="1661" class="Symbol">)))</a>
<a id="1665" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm%E2%80%B2" class="Function">fullyReducibleTerm′</a> <a id="1685" class="Symbol">(</a><a id="1686" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.ne" class="InductiveConstructor">ne</a> <a id="1689" class="Symbol">(</a><a id="1690" href="Definition.LogicalRelation.html#_%E2%8A%A9ne_.ne" class="InductiveConstructor">ne</a> <a id="1693" href="Definition.Typed.Consequences.Reduction.html#1693" class="Bound">K</a> <a id="1695" href="Definition.Typed.Consequences.Reduction.html#1695" class="Bound">D</a> <a id="1697" href="Definition.Typed.Consequences.Reduction.html#1697" class="Bound">neK</a> <a id="1701" href="Definition.Typed.Consequences.Reduction.html#1701" class="Bound">K≡K</a><a id="1704" class="Symbol">))</a> <a id="1707" class="Symbol">(</a><a id="1708" href="Definition.LogicalRelation.html#_%E2%8A%A9ne_%E2%88%B7_%2F_.ne%E2%82%9C" class="InductiveConstructor">neₜ</a> <a id="1712" href="Definition.Typed.Consequences.Reduction.html#1712" class="Bound">k</a> <a id="1714" href="Definition.Typed.Consequences.Reduction.html#1714" class="Bound">d</a> <a id="1716" class="Symbol">(</a><a id="1717" href="Definition.LogicalRelation.html#_%E2%8A%A9neNf_%E2%88%B7_.neNf%E2%82%9C" class="InductiveConstructor">neNfₜ</a> <a id="1723" href="Definition.Typed.Consequences.Reduction.html#1723" class="Bound">neK₁</a> <a id="1728" href="Definition.Typed.Consequences.Reduction.html#1728" class="Bound">⊢k</a> <a id="1731" href="Definition.Typed.Consequences.Reduction.html#1731" class="Bound">k≡k</a><a id="1734" class="Symbol">))</a> <a id="1737" class="Symbol">=</a>
  <a id="1741" href="Definition.Typed.Consequences.Reduction.html#1712" class="Bound">k</a> <a id="1743" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1745" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="1748" href="Definition.Typed.Consequences.Reduction.html#1723" class="Bound">neK₁</a> <a id="1753" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1755" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1766" href="Definition.Typed.Consequences.Reduction.html#1714" class="Bound">d</a> <a id="1768" class="Symbol">(</a><a id="1769" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1773" class="Symbol">(</a><a id="1774" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1782" class="Symbol">(</a><a id="1783" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1787" href="Definition.Typed.Consequences.Reduction.html#1695" class="Bound">D</a><a id="1788" class="Symbol">)))</a>
<a id="1792" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm%E2%80%B2" class="Function">fullyReducibleTerm′</a> <a id="1812" class="Symbol">(</a><a id="1813" href="Definition.LogicalRelation.html#%CE%A0%E2%80%B2" class="InductiveConstructor">Π′</a> <a id="1816" href="Definition.Typed.Consequences.Reduction.html#1816" class="Bound">F</a> <a id="1818" href="Definition.Typed.Consequences.Reduction.html#1818" class="Bound">G</a> <a id="1820" href="Definition.Typed.Consequences.Reduction.html#1820" class="Bound">D</a> <a id="1822" href="Definition.Typed.Consequences.Reduction.html#1822" class="Bound">⊢F</a> <a id="1825" href="Definition.Typed.Consequences.Reduction.html#1825" class="Bound">⊢G</a> <a id="1828" href="Definition.Typed.Consequences.Reduction.html#1828" class="Bound">A≡A</a> <a id="1832" href="Definition.Typed.Consequences.Reduction.html#1832" class="Bound">[F]</a> <a id="1836" href="Definition.Typed.Consequences.Reduction.html#1836" class="Bound">[G]</a> <a id="1840" href="Definition.Typed.Consequences.Reduction.html#1840" class="Bound">G-ext</a><a id="1845" class="Symbol">)</a> <a id="1847" class="Symbol">(</a><a id="1848" href="Definition.LogicalRelation.html#%CE%A0%E2%82%9C" class="InductiveConstructor">Πₜ</a> <a id="1851" href="Definition.Typed.Consequences.Reduction.html#1851" class="Bound">f</a> <a id="1853" href="Definition.Typed.Consequences.Reduction.html#1853" class="Bound">d</a> <a id="1855" href="Definition.Typed.Consequences.Reduction.html#1855" class="Bound">funcF</a> <a id="1861" href="Definition.Typed.Consequences.Reduction.html#1861" class="Bound">f≡f</a> <a id="1865" href="Definition.Typed.Consequences.Reduction.html#1865" class="Bound">[f]</a> <a id="1869" href="Definition.Typed.Consequences.Reduction.html#1869" class="Bound">[f]₁</a><a id="1873" class="Symbol">)</a> <a id="1875" class="Symbol">=</a>
  <a id="1879" href="Definition.Typed.Consequences.Reduction.html#1851" class="Bound">f</a> <a id="1881" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1883" href="Definition.Untyped.html#functionWhnf" class="Function">functionWhnf</a> <a id="1896" href="Definition.Typed.Consequences.Reduction.html#1855" class="Bound">funcF</a> <a id="1902" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1904" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1915" href="Definition.Typed.Consequences.Reduction.html#1853" class="Bound">d</a> <a id="1917" class="Symbol">(</a><a id="1918" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1922" class="Symbol">(</a><a id="1923" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1931" class="Symbol">(</a><a id="1932" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1936" href="Definition.Typed.Consequences.Reduction.html#1820" class="Bound">D</a><a id="1937" class="Symbol">)))</a>
<a id="1941" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm%E2%80%B2" class="Function">fullyReducibleTerm′</a> <a id="1961" class="Symbol">(</a><a id="1962" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.emb" class="InductiveConstructor">emb</a> <a id="1966" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="1970" href="Definition.Typed.Consequences.Reduction.html#1970" class="Bound">[A]</a><a id="1973" class="Symbol">)</a> <a id="1975" href="Definition.Typed.Consequences.Reduction.html#1975" class="Bound">[a]</a> <a id="1979" class="Symbol">=</a> <a id="1981" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm%E2%80%B2" class="Function">fullyReducibleTerm′</a> <a id="2001" href="Definition.Typed.Consequences.Reduction.html#1970" class="Bound">[A]</a> <a id="2005" href="Definition.Typed.Consequences.Reduction.html#1975" class="Bound">[a]</a>

<a id="2010" class="Comment">-- Well-formed terms can all be reduced to WHNF.</a>
<a id="fullyReducibleTerm" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm" class="Function">fullyReducibleTerm</a> <a id="2078" class="Symbol">:</a> <a id="2080" class="Symbol">∀</a> <a id="2082" class="Symbol">{</a><a id="2083" href="Definition.Typed.Consequences.Reduction.html#2083" class="Bound">a</a> <a id="2085" href="Definition.Typed.Consequences.Reduction.html#2085" class="Bound">A</a> <a id="2087" href="Definition.Typed.Consequences.Reduction.html#2087" class="Bound">Γ</a><a id="2088" class="Symbol">}</a> <a id="2090" class="Symbol">→</a> <a id="2092" href="Definition.Typed.Consequences.Reduction.html#2087" class="Bound">Γ</a> <a id="2094" href="Definition.Typed.html#_%E2%8A%A2_%E2%88%B7_" class="Datatype Operator">⊢</a> <a id="2096" href="Definition.Typed.Consequences.Reduction.html#2083" class="Bound">a</a> <a id="2098" href="Definition.Typed.html#_%E2%8A%A2_%E2%88%B7_" class="Datatype Operator">∷</a> <a id="2100" href="Definition.Typed.Consequences.Reduction.html#2085" class="Bound">A</a> <a id="2102" class="Symbol">→</a> <a id="2104" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="2106" class="Symbol">λ</a> <a id="2108" href="Definition.Typed.Consequences.Reduction.html#2108" class="Bound">b</a> <a id="2110" class="Symbol">→</a> <a id="2112" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="2117" href="Definition.Typed.Consequences.Reduction.html#2108" class="Bound">b</a> <a id="2119" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="2121" href="Definition.Typed.Consequences.Reduction.html#2087" class="Bound">Γ</a> <a id="2123" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">⊢</a> <a id="2125" href="Definition.Typed.Consequences.Reduction.html#2083" class="Bound">a</a> <a id="2127" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">:⇒*:</a> <a id="2132" href="Definition.Typed.Consequences.Reduction.html#2108" class="Bound">b</a> <a id="2134" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">∷</a> <a id="2136" href="Definition.Typed.Consequences.Reduction.html#2085" class="Bound">A</a>
<a id="2138" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm" class="Function">fullyReducibleTerm</a> <a id="2157" class="Symbol">{</a><a id="2158" href="Definition.Typed.Consequences.Reduction.html#2158" class="Bound">a</a><a id="2159" class="Symbol">}</a> <a id="2161" class="Symbol">{</a><a id="2162" href="Definition.Typed.Consequences.Reduction.html#2162" class="Bound">A</a><a id="2163" class="Symbol">}</a> <a id="2165" href="Definition.Typed.Consequences.Reduction.html#2165" class="Bound">⊢a</a> <a id="2168" class="Keyword">with</a> <a id="2173" href="Definition.LogicalRelation.Fundamental.html#fundamentalTerm" class="Function">fundamentalTerm</a> <a id="2189" href="Definition.Typed.Consequences.Reduction.html#2165" class="Bound">⊢a</a>
<a id="2192" class="Symbol">...</a> <a id="2196" class="Symbol">|</a> <a id="2198" href="Definition.Typed.Consequences.Reduction.html#2198" class="Bound">[Γ]</a> <a id="2202" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2204" href="Definition.Typed.Consequences.Reduction.html#2204" class="Bound">[A]</a> <a id="2208" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="2210" href="Definition.Typed.Consequences.Reduction.html#2210" class="Bound">[a]</a> <a id="2214" class="Symbol">=</a>
  <a id="2218" href="Definition.Typed.Consequences.Reduction.html#fullyReducibleTerm%E2%80%B2" class="Function">fullyReducibleTerm′</a> <a id="2238" class="Symbol">(</a><a id="2239" href="Definition.LogicalRelation.Substitution.Soundness.html#soundness" class="Function">soundness</a> <a id="2249" href="Definition.Typed.Consequences.Reduction.html#2198" class="Bound">[Γ]</a> <a id="2253" href="Definition.Typed.Consequences.Reduction.html#2204" class="Bound">[A]</a><a id="2256" class="Symbol">)</a> <a id="2258" class="Symbol">(</a><a id="2259" href="Definition.LogicalRelation.Substitution.Soundness.html#soundnessTerm" class="Function">soundnessTerm</a> <a id="2273" class="Symbol">{</a><a id="2274" class="Bound">a</a><a id="2275" class="Symbol">}</a> <a id="2277" class="Symbol">{</a><a id="2278" class="Bound">A</a><a id="2279" class="Symbol">}</a> <a id="2281" href="Definition.Typed.Consequences.Reduction.html#2198" class="Bound">[Γ]</a> <a id="2285" href="Definition.Typed.Consequences.Reduction.html#2204" class="Bound">[A]</a> <a id="2289" href="Definition.Typed.Consequences.Reduction.html#2210" class="Bound">[a]</a><a id="2292" class="Symbol">)</a>
</pre></body></html>