<!DOCTYPE HTML>
<html><head><meta charset="utf-8"><title>Definition.Typed.Consequences.Reduction</title><link rel="stylesheet" href="Agda.css"></head><body><pre><a id="1" class="Symbol">{-#</a> <a id="5" class="Keyword">OPTIONS</a> <a id="13" class="Option">--without-K</a> <a id="25" class="Option">--safe</a> <a id="32" class="Symbol">#-}</a>

<a id="37" class="Keyword">module</a> <a id="44" href="Definition.Typed.Consequences.Reduction.html" class="Module">Definition.Typed.Consequences.Reduction</a> <a id="84" class="Keyword">where</a>

<a id="91" class="Keyword">open</a> <a id="96" class="Keyword">import</a> <a id="103" href="Definition.Untyped.html" class="Module">Definition.Untyped</a>
<a id="122" class="Keyword">open</a> <a id="127" class="Keyword">import</a> <a id="134" href="Definition.Untyped.Properties.html" class="Module">Definition.Untyped.Properties</a>
<a id="164" class="Keyword">open</a> <a id="169" class="Keyword">import</a> <a id="176" href="Definition.Typed.html" class="Module">Definition.Typed</a>
<a id="193" class="Keyword">open</a> <a id="198" class="Keyword">import</a> <a id="205" href="Definition.Typed.RedSteps.html" class="Module">Definition.Typed.RedSteps</a>
<a id="231" class="Keyword">open</a> <a id="236" class="Keyword">import</a> <a id="243" href="Definition.Typed.Properties.html" class="Module">Definition.Typed.Properties</a>
<a id="271" class="Keyword">open</a> <a id="276" class="Keyword">import</a> <a id="283" href="Definition.Typed.EqRelInstance.html" class="Module">Definition.Typed.EqRelInstance</a>
<a id="314" class="Keyword">open</a> <a id="319" class="Keyword">import</a> <a id="326" href="Definition.LogicalRelation.html" class="Module">Definition.LogicalRelation</a>
<a id="353" class="Keyword">open</a> <a id="358" class="Keyword">import</a> <a id="365" href="Definition.LogicalRelation.Properties.html" class="Module">Definition.LogicalRelation.Properties</a>
<a id="403" class="Keyword">open</a> <a id="408" class="Keyword">import</a> <a id="415" href="Definition.LogicalRelation.Substitution.html" class="Module">Definition.LogicalRelation.Substitution</a>
<a id="455" class="Keyword">open</a> <a id="460" class="Keyword">import</a> <a id="467" href="Definition.LogicalRelation.Fundamental.Reducibility.html" class="Module">Definition.LogicalRelation.Fundamental.Reducibility</a>

<a id="520" class="Keyword">open</a> <a id="525" class="Keyword">import</a> <a id="532" href="Tools.Product.html" class="Module">Tools.Product</a>
<a id="546" class="Keyword">import</a> <a id="553" href="Tools.PropositionalEquality.html" class="Module">Tools.PropositionalEquality</a> <a id="581" class="Symbol">as</a> <a id="584" class="Module">PE</a>


<a id="589" class="Comment">-- Helper function where all reducible types can be reduced to WHNF.</a>
<a id="whNorm′" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="666" class="Symbol">:</a> <a id="668" class="Symbol">∀</a> <a id="670" class="Symbol">{</a><a id="671" href="Definition.Typed.Consequences.Reduction.html#671" class="Bound">A</a> <a id="673" href="Definition.Typed.Consequences.Reduction.html#673" class="Bound">Γ</a> <a id="675" href="Definition.Typed.Consequences.Reduction.html#675" class="Bound">l</a><a id="676" class="Symbol">}</a> <a id="678" class="Symbol">(</a><a id="679" href="Definition.Typed.Consequences.Reduction.html#679" class="Bound">[A]</a> <a id="683" class="Symbol">:</a> <a id="685" href="Definition.Typed.Consequences.Reduction.html#673" class="Bound">Γ</a> <a id="687" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⊩⟨</a> <a id="690" href="Definition.Typed.Consequences.Reduction.html#675" class="Bound">l</a> <a id="692" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="694" href="Definition.Typed.Consequences.Reduction.html#671" class="Bound">A</a><a id="695" class="Symbol">)</a>
                <a id="713" class="Symbol">→</a> <a id="715" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="717" class="Symbol">λ</a> <a id="719" href="Definition.Typed.Consequences.Reduction.html#719" class="Bound">B</a> <a id="721" class="Symbol">→</a> <a id="723" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="728" href="Definition.Typed.Consequences.Reduction.html#719" class="Bound">B</a> <a id="730" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="732" href="Definition.Typed.Consequences.Reduction.html#673" class="Bound">Γ</a> <a id="734" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">⊢</a> <a id="736" href="Definition.Typed.Consequences.Reduction.html#671" class="Bound">A</a> <a id="738" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">:⇒*:</a> <a id="743" href="Definition.Typed.Consequences.Reduction.html#719" class="Bound">B</a>
<a id="745" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="753" class="Symbol">(</a><a id="754" href="Definition.LogicalRelation.html#U%E2%80%B2" class="InductiveConstructor">U′</a> <a id="757" class="DottedPattern Symbol">.</a><a id="758" href="Definition.LogicalRelation.html#TypeLevel.%E2%81%B0" class="DottedPattern InductiveConstructor">⁰</a> <a id="760" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="764" href="Definition.Typed.Consequences.Reduction.html#764" class="Bound">⊢Γ</a><a id="766" class="Symbol">)</a> <a id="768" class="Symbol">=</a> <a id="770" href="Definition.Untyped.html#Term.U" class="InductiveConstructor">U</a> <a id="772" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="774" href="Definition.Untyped.html#Whnf.U" class="InductiveConstructor">U</a> <a id="776" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="778" href="Definition.Typed.Properties.html#idRed%3A%2A%3A" class="Function">idRed:*:</a> <a id="787" class="Symbol">(</a><a id="788" href="Definition.Typed.html#_%E2%8A%A2_.U" class="InductiveConstructor">U</a> <a id="790" href="Definition.Typed.Consequences.Reduction.html#764" class="Bound">⊢Γ</a><a id="792" class="Symbol">)</a>
<a id="794" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="802" class="Symbol">(</a><a id="803" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="805" href="Definition.Typed.Consequences.Reduction.html#805" class="Bound">D</a><a id="806" class="Symbol">)</a> <a id="808" class="Symbol">=</a> <a id="810" href="Definition.Untyped.html#Term.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="812" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="814" href="Definition.Untyped.html#Whnf.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="816" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="818" href="Definition.Typed.Consequences.Reduction.html#805" class="Bound">D</a>
<a id="820" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="828" class="Symbol">(</a><a id="829" href="Definition.LogicalRelation.html#ne%E2%80%B2" class="InductiveConstructor">ne′</a> <a id="833" href="Definition.Typed.Consequences.Reduction.html#833" class="Bound">K</a> <a id="835" href="Definition.Typed.Consequences.Reduction.html#835" class="Bound">D</a> <a id="837" href="Definition.Typed.Consequences.Reduction.html#837" class="Bound">neK</a> <a id="841" href="Definition.Typed.Consequences.Reduction.html#841" class="Bound">K≡K</a><a id="844" class="Symbol">)</a> <a id="846" class="Symbol">=</a> <a id="848" href="Definition.Typed.Consequences.Reduction.html#833" class="Bound">K</a> <a id="850" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="852" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="855" href="Definition.Typed.Consequences.Reduction.html#837" class="Bound">neK</a> <a id="859" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="861" href="Definition.Typed.Consequences.Reduction.html#835" class="Bound">D</a>
<a id="863" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="871" class="Symbol">(</a><a id="872" href="Definition.LogicalRelation.html#%CE%A0%E2%80%B2" class="InductiveConstructor">Π′</a> <a id="875" href="Definition.Typed.Consequences.Reduction.html#875" class="Bound">F</a> <a id="877" href="Definition.Typed.Consequences.Reduction.html#877" class="Bound">G</a> <a id="879" href="Definition.Typed.Consequences.Reduction.html#879" class="Bound">D</a> <a id="881" href="Definition.Typed.Consequences.Reduction.html#881" class="Bound">⊢F</a> <a id="884" href="Definition.Typed.Consequences.Reduction.html#884" class="Bound">⊢G</a> <a id="887" href="Definition.Typed.Consequences.Reduction.html#887" class="Bound">A≡A</a> <a id="891" href="Definition.Typed.Consequences.Reduction.html#891" class="Bound">[F]</a> <a id="895" href="Definition.Typed.Consequences.Reduction.html#895" class="Bound">[G]</a> <a id="899" href="Definition.Typed.Consequences.Reduction.html#899" class="Bound">G-ext</a><a id="904" class="Symbol">)</a> <a id="906" class="Symbol">=</a> <a id="908" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">Π</a> <a id="910" href="Definition.Typed.Consequences.Reduction.html#875" class="Bound">F</a> <a id="912" href="Definition.Untyped.html#Term.%CE%A0_%E2%96%B9_" class="InductiveConstructor Operator">▹</a> <a id="914" href="Definition.Typed.Consequences.Reduction.html#877" class="Bound">G</a> <a id="916" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="918" href="Definition.Untyped.html#Whnf.%CE%A0" class="InductiveConstructor">Π</a> <a id="920" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="922" href="Definition.Typed.Consequences.Reduction.html#879" class="Bound">D</a>
<a id="924" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="932" class="Symbol">(</a><a id="933" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.emb" class="InductiveConstructor">emb</a> <a id="937" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="941" href="Definition.Typed.Consequences.Reduction.html#941" class="Bound">[A]</a><a id="944" class="Symbol">)</a> <a id="946" class="Symbol">=</a> <a id="948" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="956" href="Definition.Typed.Consequences.Reduction.html#941" class="Bound">[A]</a>

<a id="961" class="Comment">-- Well-formed types can all be reduced to WHNF.</a>
<a id="whNorm" href="Definition.Typed.Consequences.Reduction.html#whNorm" class="Function">whNorm</a> <a id="1017" class="Symbol">:</a> <a id="1019" class="Symbol">∀</a> <a id="1021" class="Symbol">{</a><a id="1022" href="Definition.Typed.Consequences.Reduction.html#1022" class="Bound">A</a> <a id="1024" href="Definition.Typed.Consequences.Reduction.html#1024" class="Bound">Γ</a><a id="1025" class="Symbol">}</a> <a id="1027" class="Symbol">→</a> <a id="1029" href="Definition.Typed.Consequences.Reduction.html#1024" class="Bound">Γ</a> <a id="1031" href="Definition.Typed.html#_%E2%8A%A2_" class="Datatype Operator">⊢</a> <a id="1033" href="Definition.Typed.Consequences.Reduction.html#1022" class="Bound">A</a> <a id="1035" class="Symbol">→</a> <a id="1037" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="1039" class="Symbol">λ</a> <a id="1041" href="Definition.Typed.Consequences.Reduction.html#1041" class="Bound">B</a> <a id="1043" class="Symbol">→</a> <a id="1045" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="1050" href="Definition.Typed.Consequences.Reduction.html#1041" class="Bound">B</a> <a id="1052" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1054" href="Definition.Typed.Consequences.Reduction.html#1024" class="Bound">Γ</a> <a id="1056" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">⊢</a> <a id="1058" href="Definition.Typed.Consequences.Reduction.html#1022" class="Bound">A</a> <a id="1060" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_" class="Record Operator">:⇒*:</a> <a id="1065" href="Definition.Typed.Consequences.Reduction.html#1041" class="Bound">B</a>
<a id="1067" href="Definition.Typed.Consequences.Reduction.html#whNorm" class="Function">whNorm</a> <a id="1074" href="Definition.Typed.Consequences.Reduction.html#1074" class="Bound">A</a> <a id="1076" class="Symbol">=</a> <a id="1078" href="Definition.Typed.Consequences.Reduction.html#whNorm%E2%80%B2" class="Function">whNorm′</a> <a id="1086" class="Symbol">(</a><a id="1087" href="Definition.LogicalRelation.Fundamental.Reducibility.html#reducible" class="Function">reducible</a> <a id="1097" href="Definition.Typed.Consequences.Reduction.html#1074" class="Bound">A</a><a id="1098" class="Symbol">)</a>

<a id="1101" class="Comment">-- Helper function where reducible all terms can be reduced to WHNF.</a>
<a id="whNormTerm′" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1182" class="Symbol">:</a> <a id="1184" class="Symbol">∀</a> <a id="1186" class="Symbol">{</a><a id="1187" href="Definition.Typed.Consequences.Reduction.html#1187" class="Bound">a</a> <a id="1189" href="Definition.Typed.Consequences.Reduction.html#1189" class="Bound">A</a> <a id="1191" href="Definition.Typed.Consequences.Reduction.html#1191" class="Bound">Γ</a> <a id="1193" href="Definition.Typed.Consequences.Reduction.html#1193" class="Bound">l</a><a id="1194" class="Symbol">}</a> <a id="1196" class="Symbol">(</a><a id="1197" href="Definition.Typed.Consequences.Reduction.html#1197" class="Bound">[A]</a> <a id="1201" class="Symbol">:</a> <a id="1203" href="Definition.Typed.Consequences.Reduction.html#1191" class="Bound">Γ</a> <a id="1205" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⊩⟨</a> <a id="1208" href="Definition.Typed.Consequences.Reduction.html#1193" class="Bound">l</a> <a id="1210" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_" class="Function Operator">⟩</a> <a id="1212" href="Definition.Typed.Consequences.Reduction.html#1189" class="Bound">A</a><a id="1213" class="Symbol">)</a> <a id="1215" class="Symbol">→</a> <a id="1217" href="Definition.Typed.Consequences.Reduction.html#1191" class="Bound">Γ</a> <a id="1219" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">⊩⟨</a> <a id="1222" href="Definition.Typed.Consequences.Reduction.html#1193" class="Bound">l</a> <a id="1224" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">⟩</a> <a id="1226" href="Definition.Typed.Consequences.Reduction.html#1187" class="Bound">a</a> <a id="1228" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">∷</a> <a id="1230" href="Definition.Typed.Consequences.Reduction.html#1189" class="Bound">A</a> <a id="1232" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%9F%A8_%E2%9F%A9_%E2%88%B7_%2F_" class="Function Operator">/</a> <a id="1234" href="Definition.Typed.Consequences.Reduction.html#1197" class="Bound">[A]</a>
                <a id="1254" class="Symbol">→</a> <a id="1256" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="1258" class="Symbol">λ</a> <a id="1260" href="Definition.Typed.Consequences.Reduction.html#1260" class="Bound">b</a> <a id="1262" class="Symbol">→</a> <a id="1264" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="1269" href="Definition.Typed.Consequences.Reduction.html#1260" class="Bound">b</a> <a id="1271" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1273" href="Definition.Typed.Consequences.Reduction.html#1191" class="Bound">Γ</a> <a id="1275" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">⊢</a> <a id="1277" href="Definition.Typed.Consequences.Reduction.html#1187" class="Bound">a</a> <a id="1279" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">:⇒*:</a> <a id="1284" href="Definition.Typed.Consequences.Reduction.html#1260" class="Bound">b</a> <a id="1286" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">∷</a> <a id="1288" href="Definition.Typed.Consequences.Reduction.html#1189" class="Bound">A</a>
<a id="1290" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1302" class="Symbol">(</a><a id="1303" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.U" class="InductiveConstructor">U</a> <a id="1305" href="Definition.Typed.Consequences.Reduction.html#1305" class="Bound">x</a><a id="1306" class="Symbol">)</a> <a id="1308" class="Symbol">(</a><a id="1309" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9U_%E2%88%B7U%2F_.U%E2%82%9C" class="InductiveConstructor">Uₜ</a> <a id="1312" href="Definition.Typed.Consequences.Reduction.html#1312" class="Bound">A</a> <a id="1314" href="Definition.Typed.Consequences.Reduction.html#1314" class="Bound">d</a> <a id="1316" href="Definition.Typed.Consequences.Reduction.html#1316" class="Bound">typeA</a> <a id="1322" href="Definition.Typed.Consequences.Reduction.html#1322" class="Bound">A≡A</a> <a id="1326" href="Definition.Typed.Consequences.Reduction.html#1326" class="Bound">[t]</a><a id="1329" class="Symbol">)</a> <a id="1331" class="Symbol">=</a> <a id="1333" href="Definition.Typed.Consequences.Reduction.html#1312" class="Bound">A</a> <a id="1335" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1337" href="Definition.Untyped.html#typeWhnf" class="Function">typeWhnf</a> <a id="1346" href="Definition.Typed.Consequences.Reduction.html#1316" class="Bound">typeA</a> <a id="1352" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1354" href="Definition.Typed.Consequences.Reduction.html#1314" class="Bound">d</a>
<a id="1356" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1368" class="Symbol">(</a><a id="1369" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.%E2%84%95" class="InductiveConstructor">ℕ</a> <a id="1371" href="Definition.Typed.Consequences.Reduction.html#1371" class="Bound">x</a><a id="1372" class="Symbol">)</a> <a id="1374" class="Symbol">(</a><a id="1375" href="Definition.LogicalRelation.html#_%E2%8A%A9%E2%84%95_%E2%88%B7%E2%84%95.%E2%84%95%E2%82%9C" class="InductiveConstructor">ℕₜ</a> <a id="1378" href="Definition.Typed.Consequences.Reduction.html#1378" class="Bound">n</a> <a id="1380" href="Definition.Typed.Consequences.Reduction.html#1380" class="Bound">d</a> <a id="1382" href="Definition.Typed.Consequences.Reduction.html#1382" class="Bound">n≡n</a> <a id="1386" href="Definition.Typed.Consequences.Reduction.html#1386" class="Bound">prop</a><a id="1390" class="Symbol">)</a> <a id="1392" class="Symbol">=</a>
  <a id="1396" class="Keyword">let</a> <a id="1400" href="Definition.Typed.Consequences.Reduction.html#1400" class="Bound">natN</a> <a id="1405" class="Symbol">=</a> <a id="1407" href="Definition.LogicalRelation.html#natural" class="Function">natural</a> <a id="1415" href="Definition.Typed.Consequences.Reduction.html#1386" class="Bound">prop</a>
  <a id="1422" class="Keyword">in</a>  <a id="1426" href="Definition.Typed.Consequences.Reduction.html#1378" class="Bound">n</a> <a id="1428" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1430" href="Definition.Untyped.html#naturalWhnf" class="Function">naturalWhnf</a> <a id="1442" href="Definition.Typed.Consequences.Reduction.html#1400" class="Bound">natN</a> <a id="1447" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1449" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1460" href="Definition.Typed.Consequences.Reduction.html#1380" class="Bound">d</a> <a id="1462" class="Symbol">(</a><a id="1463" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1467" class="Symbol">(</a><a id="1468" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1476" class="Symbol">(</a><a id="1477" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1481" href="Definition.Typed.Consequences.Reduction.html#1371" class="Bound">x</a><a id="1482" class="Symbol">)))</a>
<a id="1486" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1498" class="Symbol">(</a><a id="1499" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.ne" class="InductiveConstructor">ne</a> <a id="1502" class="Symbol">(</a><a id="1503" href="Definition.LogicalRelation.html#_%E2%8A%A9ne_.ne" class="InductiveConstructor">ne</a> <a id="1506" href="Definition.Typed.Consequences.Reduction.html#1506" class="Bound">K</a> <a id="1508" href="Definition.Typed.Consequences.Reduction.html#1508" class="Bound">D</a> <a id="1510" href="Definition.Typed.Consequences.Reduction.html#1510" class="Bound">neK</a> <a id="1514" href="Definition.Typed.Consequences.Reduction.html#1514" class="Bound">K≡K</a><a id="1517" class="Symbol">))</a> <a id="1520" class="Symbol">(</a><a id="1521" href="Definition.LogicalRelation.html#_%E2%8A%A9ne_%E2%88%B7_%2F_.ne%E2%82%9C" class="InductiveConstructor">neₜ</a> <a id="1525" href="Definition.Typed.Consequences.Reduction.html#1525" class="Bound">k</a> <a id="1527" href="Definition.Typed.Consequences.Reduction.html#1527" class="Bound">d</a> <a id="1529" class="Symbol">(</a><a id="1530" href="Definition.LogicalRelation.html#_%E2%8A%A9neNf_%E2%88%B7_.neNf%E2%82%9C" class="InductiveConstructor">neNfₜ</a> <a id="1536" href="Definition.Typed.Consequences.Reduction.html#1536" class="Bound">neK₁</a> <a id="1541" href="Definition.Typed.Consequences.Reduction.html#1541" class="Bound">⊢k</a> <a id="1544" href="Definition.Typed.Consequences.Reduction.html#1544" class="Bound">k≡k</a><a id="1547" class="Symbol">))</a> <a id="1550" class="Symbol">=</a>
  <a id="1554" href="Definition.Typed.Consequences.Reduction.html#1525" class="Bound">k</a> <a id="1556" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1558" href="Definition.Untyped.html#Whnf.ne" class="InductiveConstructor">ne</a> <a id="1561" href="Definition.Typed.Consequences.Reduction.html#1536" class="Bound">neK₁</a> <a id="1566" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1568" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1579" href="Definition.Typed.Consequences.Reduction.html#1527" class="Bound">d</a> <a id="1581" class="Symbol">(</a><a id="1582" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1586" class="Symbol">(</a><a id="1587" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1595" class="Symbol">(</a><a id="1596" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1600" href="Definition.Typed.Consequences.Reduction.html#1508" class="Bound">D</a><a id="1601" class="Symbol">)))</a>
<a id="1605" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1617" class="Symbol">(</a><a id="1618" href="Definition.LogicalRelation.html#%CE%A0%E2%80%B2" class="InductiveConstructor">Π′</a> <a id="1621" href="Definition.Typed.Consequences.Reduction.html#1621" class="Bound">F</a> <a id="1623" href="Definition.Typed.Consequences.Reduction.html#1623" class="Bound">G</a> <a id="1625" href="Definition.Typed.Consequences.Reduction.html#1625" class="Bound">D</a> <a id="1627" href="Definition.Typed.Consequences.Reduction.html#1627" class="Bound">⊢F</a> <a id="1630" href="Definition.Typed.Consequences.Reduction.html#1630" class="Bound">⊢G</a> <a id="1633" href="Definition.Typed.Consequences.Reduction.html#1633" class="Bound">A≡A</a> <a id="1637" href="Definition.Typed.Consequences.Reduction.html#1637" class="Bound">[F]</a> <a id="1641" href="Definition.Typed.Consequences.Reduction.html#1641" class="Bound">[G]</a> <a id="1645" href="Definition.Typed.Consequences.Reduction.html#1645" class="Bound">G-ext</a><a id="1650" class="Symbol">)</a> <a id="1652" class="Symbol">(</a><a id="1653" href="Definition.LogicalRelation.html#%CE%A0%E2%82%9C" class="InductiveConstructor">Πₜ</a> <a id="1656" href="Definition.Typed.Consequences.Reduction.html#1656" class="Bound">f</a> <a id="1658" href="Definition.Typed.Consequences.Reduction.html#1658" class="Bound">d</a> <a id="1660" href="Definition.Typed.Consequences.Reduction.html#1660" class="Bound">funcF</a> <a id="1666" href="Definition.Typed.Consequences.Reduction.html#1666" class="Bound">f≡f</a> <a id="1670" href="Definition.Typed.Consequences.Reduction.html#1670" class="Bound">[f]</a> <a id="1674" href="Definition.Typed.Consequences.Reduction.html#1674" class="Bound">[f]₁</a><a id="1678" class="Symbol">)</a> <a id="1680" class="Symbol">=</a>
  <a id="1684" href="Definition.Typed.Consequences.Reduction.html#1656" class="Bound">f</a> <a id="1686" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1688" href="Definition.Untyped.html#functionWhnf" class="Function">functionWhnf</a> <a id="1701" href="Definition.Typed.Consequences.Reduction.html#1660" class="Bound">funcF</a> <a id="1707" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1709" href="Definition.LogicalRelation.Properties.Conversion.html#convRed%3A%2A%3A" class="Function">convRed:*:</a> <a id="1720" href="Definition.Typed.Consequences.Reduction.html#1658" class="Bound">d</a> <a id="1722" class="Symbol">(</a><a id="1723" href="Definition.Typed.html#_%E2%8A%A2_%E2%89%A1_.sym" class="InductiveConstructor">sym</a> <a id="1727" class="Symbol">(</a><a id="1728" href="Definition.Typed.Properties.html#subset%2A" class="Function">subset*</a> <a id="1736" class="Symbol">(</a><a id="1737" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_.red" class="Field">red</a> <a id="1741" href="Definition.Typed.Consequences.Reduction.html#1625" class="Bound">D</a><a id="1742" class="Symbol">)))</a>
<a id="1746" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1758" class="Symbol">(</a><a id="1759" href="Definition.LogicalRelation.html#LogRel._%E2%8A%A9%C2%B9_.emb" class="InductiveConstructor">emb</a> <a id="1763" href="Definition.LogicalRelation.html#_%3C_.0%3C1" class="InductiveConstructor">0&lt;1</a> <a id="1767" href="Definition.Typed.Consequences.Reduction.html#1767" class="Bound">[A]</a><a id="1770" class="Symbol">)</a> <a id="1772" href="Definition.Typed.Consequences.Reduction.html#1772" class="Bound">[a]</a> <a id="1776" class="Symbol">=</a> <a id="1778" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1790" href="Definition.Typed.Consequences.Reduction.html#1767" class="Bound">[A]</a> <a id="1794" href="Definition.Typed.Consequences.Reduction.html#1772" class="Bound">[a]</a>

<a id="1799" class="Comment">-- Well-formed terms can all be reduced to WHNF.</a>
<a id="whNormTerm" href="Definition.Typed.Consequences.Reduction.html#whNormTerm" class="Function">whNormTerm</a> <a id="1859" class="Symbol">:</a> <a id="1861" class="Symbol">∀</a> <a id="1863" class="Symbol">{</a><a id="1864" href="Definition.Typed.Consequences.Reduction.html#1864" class="Bound">a</a> <a id="1866" href="Definition.Typed.Consequences.Reduction.html#1866" class="Bound">A</a> <a id="1868" href="Definition.Typed.Consequences.Reduction.html#1868" class="Bound">Γ</a><a id="1869" class="Symbol">}</a> <a id="1871" class="Symbol">→</a> <a id="1873" href="Definition.Typed.Consequences.Reduction.html#1868" class="Bound">Γ</a> <a id="1875" href="Definition.Typed.html#_%E2%8A%A2_%E2%88%B7_" class="Datatype Operator">⊢</a> <a id="1877" href="Definition.Typed.Consequences.Reduction.html#1864" class="Bound">a</a> <a id="1879" href="Definition.Typed.html#_%E2%8A%A2_%E2%88%B7_" class="Datatype Operator">∷</a> <a id="1881" href="Definition.Typed.Consequences.Reduction.html#1866" class="Bound">A</a> <a id="1883" class="Symbol">→</a> <a id="1885" href="Tools.Product.html#%E2%88%83" class="Function">∃</a> <a id="1887" class="Symbol">λ</a> <a id="1889" href="Definition.Typed.Consequences.Reduction.html#1889" class="Bound">b</a> <a id="1891" class="Symbol">→</a> <a id="1893" href="Definition.Untyped.html#Whnf" class="Datatype">Whnf</a> <a id="1898" href="Definition.Typed.Consequences.Reduction.html#1889" class="Bound">b</a> <a id="1900" href="Tools.Product.html#_%C3%97_" class="Function Operator">×</a> <a id="1902" href="Definition.Typed.Consequences.Reduction.html#1868" class="Bound">Γ</a> <a id="1904" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">⊢</a> <a id="1906" href="Definition.Typed.Consequences.Reduction.html#1864" class="Bound">a</a> <a id="1908" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">:⇒*:</a> <a id="1913" href="Definition.Typed.Consequences.Reduction.html#1889" class="Bound">b</a> <a id="1915" href="Definition.Typed.html#_%E2%8A%A2_%3A%E2%87%92%2A%3A_%E2%88%B7_" class="Record Operator">∷</a> <a id="1917" href="Definition.Typed.Consequences.Reduction.html#1866" class="Bound">A</a>
<a id="1919" href="Definition.Typed.Consequences.Reduction.html#whNormTerm" class="Function">whNormTerm</a> <a id="1930" class="Symbol">{</a><a id="1931" href="Definition.Typed.Consequences.Reduction.html#1931" class="Bound">a</a><a id="1932" class="Symbol">}</a> <a id="1934" class="Symbol">{</a><a id="1935" href="Definition.Typed.Consequences.Reduction.html#1935" class="Bound">A</a><a id="1936" class="Symbol">}</a> <a id="1938" href="Definition.Typed.Consequences.Reduction.html#1938" class="Bound">⊢a</a> <a id="1941" class="Symbol">=</a>
  <a id="1945" class="Keyword">let</a> <a id="1949" href="Definition.Typed.Consequences.Reduction.html#1949" class="Bound">[A]</a> <a id="1953" href="Tools.Product.html#%CE%A3._%2C_" class="InductiveConstructor Operator">,</a> <a id="1955" href="Definition.Typed.Consequences.Reduction.html#1955" class="Bound">[a]</a> <a id="1959" class="Symbol">=</a> <a id="1961" href="Definition.LogicalRelation.Fundamental.Reducibility.html#reducibleTerm" class="Function">reducibleTerm</a> <a id="1975" href="Definition.Typed.Consequences.Reduction.html#1938" class="Bound">⊢a</a>
  <a id="1980" class="Keyword">in</a>  <a id="1984" href="Definition.Typed.Consequences.Reduction.html#whNormTerm%E2%80%B2" class="Function">whNormTerm′</a> <a id="1996" href="Definition.Typed.Consequences.Reduction.html#1949" class="Bound">[A]</a> <a id="2000" href="Definition.Typed.Consequences.Reduction.html#1955" class="Bound">[a]</a>
</pre></body></html>